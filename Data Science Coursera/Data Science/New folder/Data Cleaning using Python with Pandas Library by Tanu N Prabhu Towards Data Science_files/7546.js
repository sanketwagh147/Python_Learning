(self.webpackChunklite=self.webpackChunklite||[]).push([[7546],{43915:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var l=n.createElement("path",{d:"M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z",fillRule:"evenodd"});const i=function(e){return n.createElement("svg",o({width:25,height:25},e),l)}},14345:(e,t,r)=>{"use strict";r.d(t,{A:()=>q,r:()=>X});var n=r(28655),o=r.n(n),l=r(71439),i=r(67294),a=r(67154),c=r.n(a),s=r(63038),u=r.n(s),d=r(12291),p=r(93653),f=r(35848),m=r(53962),v=r(62806),E=r(71245),b=r(965),C=r(78820),h=r(73232),y=r(76532),w=r(1932),P=r(32262),g=r(57469),O=r(23824),k=r(29169),I=r(92528),S=r(80362),j=r(82318),T=r(66266),x=r(98024),D=r(6688),R=r(14391),F=r(65347),M=r(67297),U=r(93394),A=r(39171),L=r(51064),_=r(55573),B=r(27952);function K(){var e=o()(["\n  fragment TruncatedPostCardEditorWriterButton_post on Post {\n    id\n    collection {\n      id\n      name\n      slug # Needed for rejectPostFromPub (not currently exposed as a reusable fragment)\n    }\n    allowResponses\n    clapCount\n    visibility\n    mediumUrl\n    responseDistribution\n    ...useIsPinnedInContext_post\n    ...CopyFriendLinkMenuItem_post\n    ...ClapMutation_post\n  }\n  ","\n  ","\n  ","\n"]);return K=function(){return e},e}var N=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},V=function(e){var t=e.post,r=e.publisherContext,n=e.isEditor,o=e.isWriter,l=e.creator,a=(0,D.I)(),s=(0,M.v9)((function(e){return e.config.authDomain})),K=t.id,V=t.collection,z=t.responseDistribution,J=t.visibility,G=t.mediumUrl,H=t.allowResponses,W=(0,y.H)().value,Z=null==W?void 0:W.id,Q=null==l?void 0:l.id,$=(0,w.Tf)(t).viewerEdge,q=V||{id:"",name:""},X=q.id,Y=q.name,ee=(0,L.O)(!1),te=u()(ee,3),re=te[0],ne=te[1],oe=te[2],le=(0,C.n_)(t,r),ie=u()(le,2),ae=ie[0],ce=ie[1],se=i.useState(""),ue=u()(se,2),de=ue[0],pe=ue[1],fe=i.useCallback((function(){oe(),ce().then((function(e){var t=e.errors;t&&t.length&&t[0].message?pe(t[0].message):window.location.reload()}))}),[oe,ce,pe]),me=(0,E.yb)(t),ve=(0,L.O)(!1),Ee=u()(ve,3),be=Ee[0],Ce=Ee[1],he=Ee[2],ye=i.useCallback((function(){me(V).then((function(){return window.location.reload()}))}),[X,me]),we=(0,p.j)(K),Pe=u()(we,1)[0],ge=(0,L.O)(!1),Oe=u()(ge,3),ke=Oe[0],Ie=Oe[1],Se=Oe[2],je=i.useCallback((function(){Pe().then((function(){return window.location.reload()}))}),[Pe]),Te=z===R.Et.DISTRIBUTED,xe=(0,L.O)(!1),De=u()(xe,3),Re=De[0],Fe=De[1],Me=De[2],Ue={buttonStyle:"ERROR",cancelText:"Cancel"},Ae="truncatedPostCardEditorWriterMenu",Le="Delete story".concat(Te?" and response":""),_e=Te?h.Q:"Are you sure you want to delete this story?",Be="LOCKED"===J,Ke="User"===r&&o||"Collection"===r&&n,Ne=(0,d.I0)(),Ve=i.useCallback((function(e){return Ne((0,F.at)(e))}),[Ne]),ze=(0,M.b$)((function(e){return e.multiVote.clapsPerPost})),Je=(0,_.l)(ze,t,$),Ge=Je.clapCount,He=Je.viewerClapCount,We=(0,b.CP)();return i.createElement(i.Fragment,null,i.createElement(I.Q,c()({},Ue,{isVisible:be,onConfirm:ye,hide:he,titleText:"Remove story",confirmText:"Remove",isDestructiveAction:!0}),"Are you sure you want to remove this story from ",Y,"?"),i.createElement(I.Q,c()({},Ue,{isVisible:ke,onConfirm:je,hide:Se,titleText:Le,confirmText:"Delete",isDestructiveAction:!0}),_e),i.createElement(I.Q,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:Re,onConfirm:function(){var e=(0,B.d0A)(s,K);window.location.replace(e)},hide:Me,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},h.t),i.createElement(S.J,{ariaId:Ae,hide:oe,isVisible:re,popoverRenderFn:function(){return i.createElement(P.mX,null,i.createElement(P.Sl,null,Te?i.createElement(j.r,{linkStyle:"SUBTLE",onClick:(0,A.B)(oe,Fe)},"Edit story"):i.createElement(j.r,{linkStyle:"SUBTLE",href:(0,B.d0A)(s,K)},"Edit story")),(n||o&&"User"===r)&&i.createElement(P.Sl,null,i.createElement(j.r,{onClick:fe},ae?"Unpin":"Pin"," story")),i.createElement(P.oK,null),i.createElement(P.Sl,null,i.createElement(j.r,{href:(0,B.KIb)(s,K)},"Story settings")),i.createElement(P.Sl,null,i.createElement(j.r,{href:(0,B.T0G)(s,K)},"Story stats")),Be&&G&&(null==$?void 0:$.shareKey)&&i.createElement(m.$,{post:t,shareKey:null==$?void 0:$.shareKey}),i.createElement(P.oK,null),Ke?i.createElement(v.r,{hidePopover:oe,postId:t.id,allowResponses:H}):null,X&&i.createElement(P.Sl,null,i.createElement(j.r,{onClick:Ce},"Remove story from publication")),o&&i.createElement(P.Sl,null,i.createElement(j.r,{onClick:(0,A.B)(oe,Ie)},"Delete story")),n&&!o&&i.createElement(i.Fragment,null,i.createElement(P.oK,null),Z&&Ge&&He&&He>0?i.createElement(P.Sl,null,i.createElement(j.r,{onClick:function(){return We(t,(null==W?void 0:W.id)||"",-He,$),Ve({postId:t.id,clapCount:Ge-He,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),void oe()}},"Undo applause for this post")):null,i.createElement(k.z,{targetUserId:Q,postId:t.id,hidePopover:oe,viewerId:Z}),i.createElement(f.qT,{hidePopover:oe,creator:l}),i.createElement(g.F,{hidePopover:oe,creator:l,viewer:W}),i.createElement(O.j,{hidePopover:oe,creator:l,viewer:W})))}},i.createElement(j.r,{ariaControls:Ae,ariaExpanded:re?"true":"false",ariaLabel:"More options",onClick:ne},i.createElement(U.Z,{className:a(N)}))),i.createElement(T.F,{isVisible:!!de,hide:function(){return pe("")},duration:5e3},i.createElement(x.F,{scale:"M"},de)))},z=(0,l.Ps)(K(),C.xt,m.g,b.JP),J=r(36511);function G(){var e=o()(["\n  fragment TruncatedPostCardReaderButton_post on Post {\n    id\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n    clapCount\n    ...ClapMutation_post\n  }\n  ","\n"]);return G=function(){return e},e}var H=function(e){return{fill:e.baseColor.fill.normal,":hover":{fill:e.baseColor.fill.darker},":focus":{fill:e.baseColor.fill.darker}}},W=function(e){var t=e.post,r=e.viewer,n=(0,D.I)(),o=t.creator,l=null==o?void 0:o.id,a=(0,L.O)(!1),c=u()(a,3),s=c[0],p=c[1],m=c[2],v="truncatedPostCardReaderMenu",E=(0,J.r)().viewerId,C=(0,w.Tf)(t).viewerEdge,h=(0,d.I0)(),y=i.useCallback((function(e){return h((0,F.at)(e))}),[h]),I=(0,M.b$)((function(e){return e.multiVote.clapsPerPost})),T=(0,_.l)(I,t,C),x=T.clapCount,R=T.viewerClapCount,A=(0,b.CP)();if(!l)return null;var B=E&&x&&R&&R>0;return i.createElement(S.J,{ariaId:v,hide:m,isVisible:s,popoverRenderFn:function(){return i.createElement(P.mX,null,!!B&&i.createElement(P.Sl,null,i.createElement(j.r,{onClick:function(){return A(t,(null==r?void 0:r.id)||"",-R,C),y({postId:t.id,clapCount:x-R,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),void m()}},"Undo applause for this post")),i.createElement(k.z,{targetUserId:l,postId:t.id,hidePopover:m,viewerId:E}),i.createElement(f.qT,{hidePopover:m,creator:o}),i.createElement(g.F,{hidePopover:m,creator:o,viewer:r}),i.createElement(O.j,{hidePopover:m,creator:o,viewer:r}))}},i.createElement(j.r,{ariaControls:v,ariaExpanded:s?"true":"false",ariaLabel:"More options",onClick:p},i.createElement(U.Z,{className:n(H)})))},Z=(0,l.Ps)(G(),b.JP),Q=r(73891);function $(){var e=o()(["\n  fragment TruncatedPostCardOverflowButton_post on Post {\n    creator {\n      id\n    }\n    ...TruncatedPostCardEditorWriterButton_post\n    ...TruncatedPostCardReaderButton_post\n  }\n  ","\n  ","\n"]);return $=function(){return e},e}var q=function(e){var t=e.post,r=e.publisherContext,n=(0,y.H)().value,o=(0,Q.gY)(t.collection).viewerEdge,l=!(null==o||!o.isEditor),a=t.creator,c=(null==n?void 0:n.id)===(null==a?void 0:a.id);return n?l||c?i.createElement(V,{post:t,isEditor:l,isWriter:c,publisherContext:r,creator:a}):i.createElement(W,{post:t,viewer:n}):null},X=(0,l.Ps)($(),z,Z)},40917:(e,t,r)=>{"use strict";r.d(t,{e:()=>p});var n=r(59713),o=r.n(n),l=r(4743),i=r(14391),a=r(43198);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e,t){var r;return t?s(s({},e),{},{markups:[{anchorType:i.yG.LINK,type:i.Jh.A,start:0,end:(null==e||null===(r=e.text)||void 0===r?void 0:r.length)||0,href:t,userId:null,linkMetadata:null}]}):e},d=function(e,t){return t?s(s({},e),{},{href:t}):e},p=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=null!==(r=(0,l.LI)(e).titleIndex)&&void 0!==r?r:(0,a.s)(e,a.j);return e.map((function(e,r){return n&&e.type===i.NJ.IMG?d(e,t):r===o?u(e,t):e}))}},33819:(e,t,r)=>{"use strict";r.d(t,{h:()=>E});var n=r(59713),o=r.n(n),l=r(67294),i=r(42933),a=r(33914),c=r(98024),s=r(95760),u=r(51512),d=r(6688),p=r(43915),f=r(55459);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e){var t=e.allowResponses,r=e.responsesCount,n=e.handleClick,o=e.trackingData,m=e.isLimitedState,E=e.iconStylesOverride,b=e.countStylesOverride,C=e.svgSize,h=void 0===C?"L":C,y=e.responsesCountColor,w=void 0===y?"LIGHTER":y,P=(0,d.I)(),g=(0,s.Av)(),O=(0,u.pK)();if(!t)return null;var k=function(e){return{fill:e.baseColor.fill.light,opacity:m?.4:1,cursor:m?"not-allowed":"pointer",":hover":{fill:m?void 0:e.baseColor.fill.lighter}}},I={opacity:m?.4:1},S="S"===h?l.createElement(p.Z,{"aria-label":"responses",className:P([k,E])}):l.createElement(f.Z,{"aria-label":"responses",className:P([k,E])}),j=l.createElement("button",{onClick:m?void 0:function(e){n(e),g.event("responses.viewAllClicked",v(v({},o),{},{source:O}))},className:P({cursor:"pointer",border:0,padding:0})},l.createElement(i.x,{display:"flex",flexDirection:"row",alignItems:"center"},l.createElement(i.x,{display:"flex",alignItems:"center"},S,!!r&&l.createElement(c.F,{tag:"p",scale:"M",color:w},l.createElement("span",{className:P([b,I])},r))))),T=l.createElement(a._,{tooltipText:"This feature is temporarily disabled.",targetDistance:15},j);return l.createElement(l.Fragment,null,m?T:j)}},32261:(e,t,r)=>{"use strict";r.d(t,{O1:()=>l}),r(59713);var n=r(67294),o=n.createContext(null),l=function(e){var t=e.event,r=e.children;return n.createElement(o.Provider,{value:{event:t}},r)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7546.4e2d27d7.chunk.js.map