(self.webpackChunklite=self.webpackChunklite||[]).push([[6753],{71254:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(67294);function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a=r.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13a.5.5 0 0 0 .71-.03.5.5 0 0 0 .12-.29H19V6zm-6.84 9.97L7 19.64V6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v13.64l-5.16-3.67a.49.49 0 0 0-.68 0z",fillRule:"evenodd"});const i=function(t){return r.createElement("svg",o({width:25,height:25,viewBox:"0 0 25 25"},t),a)}},66249:(t,e,n)=>{"use strict";n.d(e,{o0:()=>L,a3:()=>k,GD:()=>T});var r=n(28655),o=n.n(r),a=n(67154),i=n.n(a),s=n(71439),u=n(67294),c=n(76532),l=n(62181),d=n(68421),E=n(42933),f=n(82318),v=n(73810),I=n(98024),g=n(6688),_=n(14391),p=n(353),m=n(81645),N=n(45798);function P(){var t=o()(["\n  fragment AddToCatalogBookmarkButton_post on Post {\n    ...AddToCatalogBase_post\n  }\n  ","\n"]);return P=function(){return t},t}function R(){var t=o()(["\n  fragment AddToCatalogBookmarkButton_bookEdition on BookEdition {\n    ...AddToCatalogBase_bookEdition\n  }\n  ","\n"]);return R=function(){return t},t}var h="Add to list bookmark button";function L(t){var e=(0,g.I)(),n=(0,c.H)({withUserReadingList:t.withCatalogsTooltip}),r=n.value,o=n.loading,a=u.useMemo((function(){return r&&t.withCatalogsTooltip?function(t){return function(){var n,o,a,i,s=(null===(n=r.readingList)||void 0===n||null===(o=n.counts)||void 0===o?void 0:o.saved)>0,c=(null===(a=r.readingList)||void 0===a||null===(i=a.counts)||void 0===i?void 0:i.archived)>0,l=s||c?"You can now make lists to organize and share stories.":"Click to add this story to a list.";return u.createElement(E.x,{minWidth:"200px",padding:"16px"},u.createElement(I.F,{scale:"S"},u.createElement("span",{className:e({color:"#ffffff"})},l)),u.createElement(E.x,{marginTop:"8px"},u.createElement(I.F,{scale:"S"},u.createElement(f.r,{onClick:function(){return t(d.$S.DISMISSED)}},u.createElement("span",{className:e({color:"#ffffff",fontWeight:700})},"Got it")))))}}:null}),[r,t.withCatalogsTooltip]);if(!o&&!r)return u.createElement(l.R9,{operation:"register",susiEntry:"list"},u.createElement(p.Z,{className:e(N.K),"aria-label":h}));var s=u.createElement(m.aR,i()({},t,{viewer:r}),(function(t){var e=t.onClick,n=t.bookmarkIcon,r=t.isPanelVisible;return u.createElement(v.P,{ariaControls:"addToCatalogBookmarkButton",ariaLabel:h,ariaExpanded:r?"true":"false",onClick:e},n)}));return a?u.createElement(d.oP,{flag:_.T3.STORIES_BOOKMARK_TOOLTIP,targetDistance:15,isVisible:t.withCatalogsTooltip,darkTheme:!0,placement:"top",renderFn:a},s):s}var k=(0,s.Ps)(R(),m.Gm),T=(0,s.Ps)(P(),m._C)},86753:(t,e,n)=>{"use strict";n.d(e,{e:()=>U,z:()=>O});var r=n(63038),o=n.n(r),a=n(28655),i=n.n(a),s=n(71439),u=n(67294),c=n(66249),l=n(45798),d=n(3021),E=n(53976),f=n(76532),v=n(62181),I=n(267),g=n(82318),_=n(33914),p=n(95760),m=n(51512),N=n(6688),P=n(14391),R=n(67297),h=n(71254),L=n(353),k=n(16169);function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var D=u.createElement("path",{d:"M19 6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14.66h.01c.01.1.05.2.12.28a.5.5 0 0 0 .7.03l5.67-4.12 5.66 4.13c.2.18.52.17.71-.03a.5.5 0 0 0 .12-.29H19V6z"});const A=function(t){return u.createElement("svg",T({width:25,height:25,viewBox:"0 0 25 25"},t),D)};var b=n(27952);function S(){var t=i()(["\n  fragment BookmarkButton_post on Post {\n    visibility\n    ...SusiClickable_post\n    ...WithSetReadingList_post\n    ...AddToCatalogBookmarkButton_post\n  }\n  ","\n  ","\n  ","\n"]);return S=function(){return t},t}var O=(0,s.Ps)(S(),v.qU,d.jy,c.GD),w=function(t){return{fill:t.baseColor.fill.light}},C=function(t){return{fill:t.baseColor.border.light,cursor:"default"}},G=function(){var t=(0,N.I)();return u.createElement(A,{className:t(C)})};function y(t){return{READING_LIST_NONE:"Bookmark Post",READING_LIST_ARCHIVE:"Archived",READING_LIST_QUEUE:"Remove Bookmark"}[t]}function U(t){var e=t.post,n=t.withReadingListTooltip,r=void 0===n||n,a=t.susiEntry,i=t.withCatalogsTooltip,s=void 0!==i&&i,T=e.id,D=e.viewerEdge.readingList,A=e.visibility,S=(0,N.I)(),O=(0,R.v9)((function(t){return t.config.authDomain})),C=(0,p.Av)(),U=(0,m.pK)(),x=(0,I.XC)(),B=(0,f.H)(),j=B.value,V=B.loading,H=(0,E.hd)({name:"enable_lists",placeholder:!1,experimentId:"ce7dbacf23aa"}),Q=null==x?void 0:x.READING_LIST_UPDATED,M=u.useState(r),$=o()(M,2),z=$[0],K=$[1],W=u.useState(D||P.sx.READING_LIST_NONE),Z=o()(W,2),F=Z[0],X=Z[1];u.useEffect((function(){X(D||P.sx.READING_LIST_NONE)}),[D]);var q=u.useCallback((function(){r&&K(!0)}),[r]);return V||A===P.Wn.UNLISTED?null:j?H?u.createElement(c.o0,{kind:P.ej.POST,target:e,withCatalogsTooltip:s}):D?u.createElement("div",{className:S(w)},u.createElement(d.sN,{post:e},(function(t){return u.createElement(_._,{isVisible:z,targetDistance:10,tooltipText:(n=D,{READING_LIST_NONE:"Save story",READING_LIST_ARCHIVE:"Archived",READING_LIST_QUEUE:"Unsave Story"}[n]),onMouseLeave:q},u.createElement(g.r,{onClick:function(){return function(t){if(D){var n=(o=D,{READING_LIST_NONE:P.sx.READING_LIST_QUEUE,READING_LIST_ARCHIVE:null,READING_LIST_QUEUE:P.sx.READING_LIST_NONE}[o]);if(!n)return;X(n),C.event(function(t){return{READING_LIST_NONE:"post.addedBookmark",READING_LIST_ARCHIVE:"post.addedArchive",READING_LIST_QUEUE:"post.removedBookmark"}[t]}(D),{postId:T,source:U}),t(n)().catch((function(){X(D)})),r&&K(!1),Q&&Q(e,n)}var o}(t)},ariaLabel:y(F)},function(t){return{READING_LIST_NONE:u.createElement(h.Z,null),READING_LIST_ARCHIVE:u.createElement(G,null),READING_LIST_QUEUE:u.createElement(k.Z,null)}[t]}(F)));var n}))):null:u.createElement(_._,{isVisible:z,placement:"top",targetDistance:10,tooltipText:"Bookmark story"},u.createElement(v.R9,{post:e,operation:"register",actionUrl:(0,b.XET)(O,T),susiEntry:a},u.createElement(L.Z,{className:S(l.K)})))}},3021:(t,e,n)=>{"use strict";n.d(e,{jy:()=>P,sN:()=>R});var r=n(63038),o=n.n(r),a=n(28655),i=n.n(a),s=n(71439),u=n(46829),c=n(14391);function l(){var t=i()(["\n  fragment WithSetReadingList_post on Post {\n    ...ReadingList_post\n  }\n  ","\n"]);return l=function(){return t},t}function d(){var t=i()(["\n  mutation UnarchivePostDefault($targetPostId: ID!) {\n    unarchivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return d=function(){return t},t}function E(){var t=i()(["\n  mutation ArchivePostDefault($targetPostId: ID!) {\n    archivePost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return E=function(){return t},t}function f(){var t=i()(["\n  mutation UnbookmarkPostDefault($targetPostId: ID!) {\n    unbookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return f=function(){return t},t}function v(){var t=i()(["\n  mutation BookmarkPostDefault($targetPostId: ID!) {\n    bookmarkPost(targetPostId: $targetPostId) {\n      ...ReadingList_post\n    }\n  }\n  ","\n"]);return v=function(){return t},t}function I(){var t=i()(["\n  fragment ReadingList_post on Post {\n    __typename\n    id\n    viewerEdge {\n      id\n      readingList\n    }\n  }\n"]);return I=function(){return t},t}var g=(0,s.Ps)(I()),_=(0,s.Ps)(v(),g),p=(0,s.Ps)(f(),g),m=(0,s.Ps)(E(),g),N=(0,s.Ps)(d(),g),P=(0,s.Ps)(l(),g),R=function(t){var e=t.children,n=t.post,r=n.id,a=function(t){var e=(0,u.useMutation)(_,{variables:{targetPostId:t},optimisticResponse:{bookmarkPost:{__typename:"Post",id:t,viewerEdge:{id:"test-post-viewer-edge-id",readingList:c.sx.READING_LIST_QUEUE}}}});return o()(e,1)[0]}(r),i=function(t){var e=(0,u.useMutation)(p,{variables:{targetPostId:t},optimisticResponse:{unbookmarkPost:{__typename:"Post",id:t,viewerEdge:{id:"test-post-viewer-edge-id",readingList:c.sx.READING_LIST_NONE}}}});return o()(e,1)[0]}(r),s=function(t){var e=(0,u.useMutation)(m,{variables:{targetPostId:t},optimisticResponse:{archivePost:{__typename:"Post",id:t,viewerEdge:{id:"test-post-viewer-edge-id",readingList:c.sx.READING_LIST_ARCHIVE}}}});return o()(e,1)[0]}(r),l=function(t){var e=(0,u.useMutation)(N,{variables:{targetPostId:t},optimisticResponse:{unarchivePost:{__typename:"Post",id:t,viewerEdge:{id:"test-post-viewer-edge-id",readingList:c.sx.READING_LIST_QUEUE}}}});return o()(e,1)[0]}(r);return r?e((function(t){return function(){switch(n.viewerEdge.readingList){case c.sx.READING_LIST_NONE:if("READING_LIST_QUEUE"===t)return a();break;case c.sx.READING_LIST_QUEUE:if("READING_LIST_NONE"===t)return i();if("READING_LIST_ARCHIVE"===t)return s();break;case c.sx.READING_LIST_ARCHIVE:if(!t)return r;if("READING_LIST_NONE"===t)return i();if("READING_LIST_QUEUE"===t)return l()}throw new Error('Invalid reading list change from "'.concat(n.viewerEdge.readingList||"unkown",'" to "').concat(t,'".'))}})):null}},267:(t,e,n)=>{"use strict";n.d(e,{XC:()=>c,EI:()=>l});var r=n(59713),o=n.n(r),a=n(67294);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=a.createContext({}),c=function(){return a.useContext(u)},l=function(t){var e=t.context,n=t.extendContext,r=void 0!==n&&n,o=t.children,i=c();return r&&i&&(e=s(s({},i),e)),a.createElement(u.Provider,{value:e},o)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6753.78fcbf28.chunk.js.map