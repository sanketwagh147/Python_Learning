(self.webpackChunklite=self.webpackChunklite||[]).push([[7648],{8015:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var r=n(67294),o=n(42933),i=n(55099),l=n(6688),a=n(99701),c={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},s=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},u=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,u=e.buttonStyle,m=void 0===u?"STRONG":u,d=e.width,p=void 0===d?"207px":d,E=(0,l.I)(),f=function(){var e=(0,a.o)({keyframesName:c}).keyframesName;return r.createElement("div",{className:E(s(e))})},g=function(){return r.createElement(o.x,null,r.createElement(o.x,{display:"inline-block",float:"left",marginRight:"8px"},r.createElement(f,null)),r.createElement(o.x,{float:"left"},"Loading.."))};return r.createElement("div",{style:{cursor:"wait"}},r.createElement(i.z,{buttonStyle:m,onClick:function(){return null},size:n,width:p,disabled:!0},r.createElement(g,null)))}},4697:(e,t,n)=>{"use strict";n.d(t,{Xw:()=>M,e0:()=>B,Rf:()=>I});var r=n(59713),o=n.n(r),i=n(28655),l=n.n(i),a=n(71439),c=n(67294),s=n(90194),u=n(41707),m=n(1072),d=n(42933),p=n(51512),E=n(534);function f(){var e=l()(["\n  fragment NewsletterV3AmpButton_newsletterV3 on NewsletterV3 {\n    id\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n"]);return f=function(){return e},e}var g=(0,a.Ps)(f(),E.Gi),w=function(e){var t=e.newsletterV3,n=e.buttonLayout,r=void 0===n?"MULTI-LINE":n,o=e.buttonSize,i=void 0===o?"LARGE":o,l=e.buttonStyle,a=void 0===l?"STRONG":l,f=e.redirectUrl;return c.createElement(u.Z,null,(function(e){return c.createElement(m.f,{theme:(0,E.jN)(null==t?void 0:t.collection,e)},c.createElement(p.cW,{source:{newsletterV3Id:t.id},extendSource:!0},c.createElement(d.x,{margin:"COMPACT"===r?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},c.createElement(s.w,{buttonSize:i,buttonStyle:a,onClick:function(){return null},showMailIcon:!1,buttonText:"Learn more",redirectUrl:f}))))}))},b=n(11969),v=n(56202),h=n(53976),x=n(76532),y=n(73891),T=n(82318),S=n(37278),R=n(98024),V=n(95760),_=n(6688),C=n(27108),L=n(14391),O=n(67297),N=n(80637),P=n(27952);function A(){var e=l()(["\n  fragment NewsletterV3Promo_publisher on Publisher {\n    __typename\n    ... on User {\n      id\n      username\n      name\n      viewerIsUser\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n    ... on Collection {\n      id\n      slug\n      domain\n      name\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function k(){var e=l()(["\n  fragment NewsletterV3Promo_newsletterV3 on NewsletterV3 {\n    slug\n    name\n    description\n    promoHeadline\n    promoBody\n    ...NewsletterV3AmpButton_newsletterV3\n    ...NewsletterV3SubscribeButton_newsletterV3\n    ...NewsletterV3SubscribeByEmail_newsletterV3\n  }\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}var B=(0,a.Ps)(k(),g,b.B,v.Lh),I=(0,a.Ps)(A(),B),U=function(e){return o()({borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},N.sm(e),{padding:"24px 24px 28px 24px"})},D=function(e){var t=e.isAmp,n=e.viewer,r=e.newsletterV3,o=e.newsletterV3LandingUrl,i=e.useCustomDomainLOFlow;return t?r&&c.createElement(w,{newsletterV3:r,buttonLayout:"COMPACT",redirectUrl:o}):n||i?r&&c.createElement(b.x,{newsletterV3:r,buttonLayout:"COMPACT",helperTextColor:"DARKER",redirectUrl:i?o:void 0}):r&&c.createElement(v.QL,{newsletterV3:r})},M=function(e){var t,n,r,o,i,l=e.postId,a=e.publisher,s=c.useRef(null),u=(0,O.v9)((function(e){return e.config.authDomain})),m=(0,O.p9)((function(e){return e.config.isAmp})),E=(0,V.Av)(),f=(0,_.I)(),g=(0,x.H)().value,w=!!(0,h.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),b=!!(0,h.VB)({name:"enable_custom_writer_subscription_promos",placeholder:!1}),v=null==(0,O.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(u)),N=!g&&v&&w,A=a.newsletterV3,k=null==A?void 0:A.type,B=a.username,I=void 0===B?"":B,M=(0,P.iBn)(null!==(t=null==A?void 0:A.slug)&&void 0!==t?t:"",u,k===L.Rr.NEWSLETTER_TYPE_COLLECTION?a:void 0,k===L.Rr.NEWSLETTER_TYPE_AUTHOR&&I?I:void 0),F="Collection"===a.__typename?a:void 0,j=(0,y.gY)(F).viewerEdge;switch(k){case L.Rr.NEWSLETTER_TYPE_COLLECTION:n="Sign up for ".concat(null==A?void 0:A.name),r="0px",o="You're an editor of ".concat(null==A?void 0:A.name),i=null==j?void 0:j.isEditor;break;case L.Rr.NEWSLETTER_TYPE_AUTHOR:n=b&&(null==A?void 0:A.promoHeadline)||"Get an email whenever ".concat(a.name," publishes."),r="6px",o="You cannot subscribe to yourself",i=a.viewerIsUser}var W=!1,Y=function(){!W&&$()&&(E.event("newsletterV3.promoViewed",{newsletterV3Id:null==A?void 0:A.id,postId:l}),W=!0)},$=function(){var e;if(!s.current)return!1;var t=null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};return c.useEffect((function(){return Y(),window&&C.V6.on("scroll",Y),function(){C.V6.off("scroll",Y)}}),[]),A&&c.createElement(p.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},c.createElement("div",{ref:s,className:f(U)},c.createElement(d.x,{paddingBottom:r},c.createElement(S.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n)),k===L.Rr.NEWSLETTER_TYPE_COLLECTION&&c.createElement(c.Fragment,null,c.createElement(d.x,{paddingTop:"4px"},c.createElement(R.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(a.name))),c.createElement(d.x,{paddingTop:"8px",paddingBottom:"10px"},c.createElement(R.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==A?void 0:A.description," ",!m&&c.createElement(T.r,{inline:!0,linkStyle:"OBVIOUS",href:M},"Take a look.")))),b&&k===L.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==A?void 0:A.promoBody)&&c.createElement(c.Fragment,null,c.createElement(d.x,{paddingTop:"8px",paddingBottom:"8px"},c.createElement(R.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==A?void 0:A.promoBody))),i?c.createElement(d.x,{paddingTop:"10px"},c.createElement(R.F,{scale:"M",color:"DARKER"},o)):c.createElement(d.x,{display:"flex",flexWrap:"wrap"},c.createElement(D,{viewer:g,isAmp:m,useCustomDomainLOFlow:N,newsletterV3:A,newsletterV3LandingUrl:M}))))}},56202:(e,t,n)=>{"use strict";n.d(t,{QL:()=>B,Ae:()=>I,Lh:()=>U});var r=n(28655),o=n.n(r),i=n(59713),l=n.n(i),a=n(63038),c=n.n(a),s=n(46829),u=n(71439),m=n(67294),d=n(90194),p=n(8015),E=n(90738),f=n(14414),g=n(72059),w=n(7462),b=n(1072),v=n(42933),h=n(82318),x=n(98024),y=n(51512),T=n(77180),S=n(37581),R=n(14391),V=n(67297),_=n(49456),C=n(51299),L=n(27952),O=n(534);function N(){var e=o()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    type\n    user {\n      id\n      name\n      username\n    }\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return N=function(){return e},e}function P(){var e=o()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return P=function(){return e},e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,o=(0,T.F)(),i=(0,y.pK)(),l=(0,y.hp)(),a=(0,V.v9)((function(e){return e.config.authDomain})),u=(0,V.v9)((function(e){return e.navigation.currentLocation})),N=(0,V.v9)((function(e){return e.config.productName})),P=m.useState(""),A=c()(P,2),B=A[0],U=A[1],D=m.useState(""),M=c()(D,2),F=M[0],j=M[1],W=m.useState(!1),Y=c()(W,2),$=Y[0],G=Y[1],H=m.useState(!1),z=c()(H,2),K=z[0],Q=z[1],X=m.useState(!1),q=c()(X,2),Z=q[0],J=q[1],ee=m.useState(!1),te=c()(ee,2),ne=te[0],re=te[1],oe=m.useState(""),ie=c()(oe,2),le=ie[0],ae=ie[1],ce="register",se=r.type===R.Rr.NEWSLETTER_TYPE_AUTHOR?"Subscribe":"Get this newsletter",ue=null==u.match("http[s]?://[^/]*".concat(a)),me=r.collection,de=r.id,pe=r.slug,Ee=r.user,fe=(0,L.Zul)(de),ge=me?(0,L.iBn)(pe,a,me,(null==Ee?void 0:Ee.username)||""):u;(0,s.useQuery)(g.qz,{fetchPolicy:"no-cache",skip:!fe||ue,onCompleted:function(e){var t=e.accountToken;return t&&ae((0,f.hQ)(ge,i,l,fe,t))}});var we=function(e){U(e),G(!0),setTimeout((function(){return G(!1)}),w.zn),Q(!1),J(!1)},be=function(){(0,_.J)(F)?(J(!0),Q(!0)):we("Enter a valid email address.")},ve=function(){we("We couldn't process your request. Try again, or contact our support team.")},he=(0,s.useMutation)(I,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":j(F),re(!0);break;case"BadRequest":we("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:ve()}},onError:ve}),xe=c()(he,1)[0],ye={newsletterV3Id:de,email:F,operation:ce,redirect:le},Te=(0,C.U)(),Se=r.type===R.Rr.NEWSLETTER_TYPE_AUTHOR?{xl:425,lg:425,md:375,sm:475,xs:250,"":200}:{xl:375,lg:375,md:325,sm:450,xs:200,"":200};return m.createElement(b.f,{theme:(0,O.jN)(me,o)},m.createElement(v.x,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},m.createElement(E.k,{callback:function(e){xe({variables:k({captchaValue:e},ye)})},shouldExecuteRecaptcha:K}),m.createElement(v.x,{display:ne?"none":"inline"},m.createElement(v.x,{alignItems:"center",display:"flex",justifyContent:"space-between",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",paddingTop:"16px"}},m.createElement(v.x,{marginTop:B&&"25px",sm:{marginTop:"0"}},m.createElement(w.II,{errorMessage:B,handleInputChange:function(e){j(e.target.value.trim())},handleSubmit:be,input:F,inputType:w.n$.EMAIL,isAnimating:$,textAlign:"start",placeholder:"Your email",width:"".concat(Se[Te],"px")})),m.createElement(v.x,{marginBottom:"auto",marginLeft:"15px",sm:{marginLeft:"0px",marginTop:"15px"}},Z?m.createElement(p.B,{newsletterV3Id:de}):m.createElement(S.$,{eventData:{operation:ce}},m.createElement(d.w,{onClick:be,buttonText:se})))),m.createElement(v.x,{marginTop:B?"10px":"25px",sm:{marginTop:"25px"}},m.createElement(x.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",N," account if you don’t already have one. Review our"," ",m.createElement(h.r,{href:(0,L.wob)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),m.createElement(v.x,{display:ne?"inline":"none",marginBottom:"15px",marginTop:"5px"},m.createElement(x.F,{color:"DARKER",scale:"M"},m.createElement("b",null,"Check your inbox"),m.createElement("br",null),N," sent you an email at ",F," to complete your subscription."))))},I=(0,u.Ps)(P()),U=(0,u.Ps)(N(),O.Gi,L.nfI)},77648:(e,t,n)=>{"use strict";n.d(t,{X:()=>A,w:()=>k});var r=n(28655),o=n.n(r),i=n(63038),l=n.n(i),a=n(71439),c=n(67294),s=n(4697),u=n(99033),m=n(76532),d=n(62181),p=n(55099),E=n(52862),f=n(42933),g=n(92528),w=n(98024),b=n(51512),v=n(6688),h=n(77180),x=n(14391),y=n(85277),T=n(8403);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=c.createElement("path",{d:"M24 13l2 2 3-3.5",strokeLinecap:"round",strokeLinejoin:"round"}),V=c.createElement("path",{d:"M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5",strokeLinecap:"round"}),_=c.createElement("path",{d:"M11.5 14.5L19 20l4-3",strokeLinecap:"round"});const C=function(e){return c.createElement("svg",S({width:38,height:38,viewBox:"0 0 38 38",fill:"none"},e),R,V,_)};var L=n(14856),O=n(51064),N=n(27952);function P(){var e=o()(["\n  fragment UserSubscribeButton_user on User {\n    id\n    name\n    viewerEdge {\n      id\n      isFollowing\n      isUser\n    }\n    viewerIsUser\n    newsletterV3 {\n      id\n      ...NewsletterV3Promo_newsletterV3\n    }\n  }\n  ","\n"]);return P=function(){return e},e}var A=function(e){var t=e.user,n=(0,v.I)(),r=(0,h.F)(),o=(0,m.H)().value,i=(0,O.O)(!1),a=l()(i,3),s=a[0],S=a[1],R=a[2],V=t.newsletterV3,_=(0,y.w)(),P=(0,T.PM)(),A=(0,u.oT)({newsletterV3:V,newsletterName:t.name||void 0}),k=A.isSubscribed,B=A.hasError,I=A.loading,U=A.setSubscribe;if(c.useEffect((function(){if(P){var e=(0,b.P7)(P||"").susiEntry;["newsletter_v3_promo","writer_subscription_landing"].includes(void 0===e?"":e)&&k&&_({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:t.name,newsletterType:x.Rr.NEWSLETTER_TYPE_AUTHOR,unsubscribeFn:function(){return U(!1)}}})}}),[P,k]),B||t.viewerEdge.isUser)return null;var D=k?"OBVIOUS":"STRONG",M=function(e,t){return function(n){return{stroke:t?n.baseColor.background.normal:e,height:"36px",width:"36px"}}},F=c.createElement(p.z,{loading:I,size:"COMPACT",buttonStyle:D,onClick:function(){o&&(k?U(!1):o&&o.allowEmailAddressSharingEditorWriter?U(!0,!1):S())},padding:"0"},k?c.createElement(C,{className:n(M(r.accentColor.fill.normal,I))}):c.createElement(L.Z,{className:n(M(r.accentColor.background,I))}));return c.createElement(E.$,{isVisible:!I&&!k,hideOnClick:!0,noPortal:!0,mouseEnterDelay:500,mouseLeaveDelay:0,placement:"bottom",popoverRenderFn:function(){return c.createElement(f.x,{padding:"10px 12px",maxWidth:"166px"},c.createElement(w.F,{tag:"div",scale:"S",color:"DARKER"},"Subscribe to get an email whenever ",t.name," publishes."))},role:"tooltip",targetDistance:10},c.createElement(f.x,null,o&&c.createElement(g.Q,{onConfirm:function(){U(!0,!0)},isVisible:s,hide:R,titleText:"Confirm your subscription to ".concat(t.name),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,isDestructiveAction:!1},"When you subscribe to a writer or publication, your email address will be shared with them so they can stay in contact with you outside of Medium. Opt out any time by unsubscribing in Settings."),o?F:c.createElement(d.R9,{operation:"register",newsletterV3:V,user:t,actionUrl:(0,N.Zul)(V.id),susiEntry:"subscribe_user"},F)))},k=(0,a.Ps)(P(),s.e0)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7648.31e753ba.chunk.js.map