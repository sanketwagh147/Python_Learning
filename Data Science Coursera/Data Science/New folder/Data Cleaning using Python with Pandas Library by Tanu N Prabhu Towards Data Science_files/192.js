(self.webpackChunklite=self.webpackChunklite||[]).push([[192],{99171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(67294);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var i=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.18 2.6a1.82 1.82 0 0 1 3.64 0v2.07H2.18V2.6zm4.37 2.07V2.6C6.55 1.17 5.4 0 4 0a2.58 2.58 0 0 0-2.55 2.6v2.07c-.39 0-.75.17-1.03.46-.27.3-.42.7-.42 1.12v3.17a1.7 1.7 0 0 0 .42 1.12c.14.14.3.26.47.34.18.08.37.12.56.12h5.1c.39 0 .75-.17 1.03-.47.27-.3.42-.7.42-1.11V6.25a1.7 1.7 0 0 0-.42-1.12c-.14-.14-.3-.26-.47-.34a1.35 1.35 0 0 0-.56-.12z",fill:"#757575"});const o=function(e){return a.createElement("svg",r({width:8,height:11,viewBox:"0 0 8 11",fill:"none"},e),i)}},66612:(e,t,n)=>{"use strict";n.d(t,{F:()=>u,l:()=>d});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(27721),c=n(42933);function s(){var e=r()(["\n  fragment BookCover_bookEdition on BookEdition {\n    cover\n  }\n"]);return s=function(){return e},e}var u=function(e){var t=e.bookEdition,n=e.width,a=e.marginRight,r=e.marginBottom,i=e.marginLeft,s=e.marginTop,u=e.height,d=e.strategy;return o.createElement(c.x,{marginRight:a,marginLeft:i,marginTop:s,marginBottom:r},t.cover?o.createElement(l.UV,{miroId:t.cover,width:n,height:u,strategy:d}):o.createElement(c.x,{height:"".concat(u||1.5*n,"px"),width:"".concat(n,"px"),backgroundColor:"BASE_NORMAL"}))},d=(0,i.Ps)(s())},77339:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var a=n(67294),r=n(42933),i=n(4353),o=function(e){var t=e.loading,n=e.text,o=void 0===n?"Done":n;return a.createElement(r.x,{display:"inline-flex",alignItems:"center",tag:"span"},o,t&&a.createElement(r.x,{paddingLeft:"10px",tag:"span"},a.createElement(i.T,{size:"18px"})))}},21552:(e,t,n)=>{"use strict";n.d(t,{n:()=>_,E:()=>S});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(67900),c=n(42933),s=n(4353),u=n(98024),d=n(71229),m=n(6688),g=n(14391);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var p=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.73 3.08A2.21 2.21 0 0 1 5 .94c1.26 0 2.27.97 2.27 2.14v2.44H2.73V3.08zm5.46 2.44V3.08C8.18 1.38 6.74 0 5 0a3.13 3.13 0 0 0-3.18 3.08v2.44c-.49 0-.95.2-1.29.55A1.9 1.9 0 0 0 0 7.39v3.74a1.9 1.9 0 0 0 .53 1.32A1.8 1.8 0 0 0 1.8 13H8.2c.48 0 .94-.2 1.28-.55.34-.35.53-.82.53-1.32V7.4a1.9 1.9 0 0 0-.53-1.32 1.8 1.8 0 0 0-1.28-.55z",fill:"#A8A8A8"});const v=function(e){return o.createElement("svg",f({width:10,height:13,viewBox:"0 0 10 13",fill:"none"},e),p)};var h=n(66137),E=n(24821);function C(){var e=r()(["\n  fragment CatalogAddToListItem_catalog on Catalog {\n    id\n    name\n    visibility\n    predefined\n    version\n    ...WithToggleInsideCatalog_catalog\n  }\n  ","\n"]);return C=function(){return e},e}var I={display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"16px",paddingRight:"5px","& > label":{width:"calc(100% - 10px)","& > div":{flexShrink:0},"& > p":{marginRight:"10px",textAlign:"left"}}},b=function(e){return{marginBottom:"1px","& path":{fill:e.baseColor.border.normal}}};function y(e){var t=e.catalog,n=e.target,a=e.kind,r=e.viewer,i=(0,m.I)();return o.createElement(E.jo,{viewer:r,target:n,kind:a,catalog:t},(function(e){var n=e.toggleInsideCatalog,a=e.isInsideCatalog,r=e.loading,l=t.predefined?(0,h.S6)(t.predefined):t.name;return o.createElement("div",{className:i(I)},o.createElement(d.X,{key:t.id,checked:a,checkboxStyle:"OBVIOUS",onChange:n,disabled:r||t.visibility===g.n2.LOCKED,textScale:"L",clampText:1},l),t.visibility!==g.n2.PUBLIC&&o.createElement(c.x,{paddingLeft:"8px"},o.createElement(v,{className:i(b)})))}))}var x=(0,i.Ps)(C(),E.sC);function w(){var e=r()(["\n  fragment CatalogAddToList_catalog on Catalog {\n    ...CatalogAddToListItem_catalog\n  }\n  ","\n"]);return w=function(){return e},e}function _(e){var t=e.target,n=e.kind,a=e.catalogs,r=e.isLoading,i=e.viewer,d=e.fetchMore,m=e.scrollableEl;return r?o.createElement(c.x,{display:"flex",justifyContent:"center",padding:"40px 0"},o.createElement(u.F,{color:"DARKER",scale:"L"},o.createElement(s.T,null))):a?o.createElement(l.P,{fetchMore:d,scrollableEl:m},a.map((function(e){return o.createElement(y,{viewer:i,key:e.id,catalog:e,target:t,kind:n})}))):null}var S=(0,i.Ps)(w(),x)},24821:(e,t,n)=>{"use strict";n.d(t,{jo:()=>g,sC:()=>f,tA:()=>p,m7:()=>v});var a=n(28655),r=n.n(a),i=n(63038),o=n.n(i),l=n(71439),c=n(67294),s=n(57768);function u(){var e=r()(["\n  fragment WithToggleInsideCatalog_post on Post {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}function d(){var e=r()(["\n  fragment WithToggleInsideCatalog_bookEdition on BookEdition {\n    id\n    viewerEdge {\n      catalogsConnection {\n        catalogsContainingThis(type: LISTS) {\n          catalogId\n        }\n        predefinedContainingThis {\n          predefined\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}function m(){var e=r()(["\n  fragment WithToggleInsideCatalog_catalog on Catalog {\n    id\n    version\n    predefined\n  }\n"]);return m=function(){return e},e}function g(e){var t,n,a=e.children,r=e.target,i=e.kind,l=e.catalog,u=e.viewer,d=c.useMemo((function(){if(l.predefined){var e,t=null===(e=r.viewerEdge.catalogsConnection)||void 0===e?void 0:e.predefinedContainingThis.find((function(e){return e.predefined===l.predefined}));return[!!t,null==t?void 0:t.catalogItemIds]}var n,a=null===(n=r.viewerEdge.catalogsConnection)||void 0===n?void 0:n.catalogsContainingThis.find((function(e){return e.catalogId===l.id}));return[!!a,null==a?void 0:a.catalogItemIds]}),[l.predefined,l.id,r.viewerEdge]),m=o()(d,2),g=m[0],f=m[1],p=(0,s.qY)(u.id,l.id,l.version,r.id,i,null!==(t=l.predefined)&&void 0!==t?t:void 0),v=o()(p,2),h=v[0],E=v[1].loading,C=(0,s.jN)(u.id,l.id,l.version,r.id,i,f||[],null!==(n=l.predefined)&&void 0!==n?n:void 0),I=o()(C,2),b=I[0],y=I[1].loading;return a({toggleInsideCatalog:g?b:h,isInsideCatalog:g,loading:E||y})}var f=(0,l.Ps)(m()),p=(0,l.Ps)(d()),v=(0,l.Ps)(u())},19661:(e,t,n)=>{"use strict";n.d(t,{CI:()=>x,Y_:()=>S,u1:()=>k});var a=n(28655),r=n.n(a),i=n(63038),o=n.n(i),l=n(59713),c=n.n(l),s=n(71439),u=n(67294),d=n(66612),m=n(27721),g=n(42933),f=n(6688),p=n(27108),v=n(90038);function h(){var e=r()(["\n  fragment CatalogCovers_catalogItemV2 on CatalogItemV2 {\n    catalogItemId\n    entity {\n      __typename\n      ... on BookEdition {\n        ...BookCover_bookEdition\n      }\n      ... on Post {\n        previewImage {\n          id\n          alt\n        }\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={xs:-40,sm:-40,md:-45,lg:-80},b={xs:-55,sm:-60,md:-65,lg:-130},y={xs:0,sm:350,md:490,lg:680},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=C(C({},y),e),n=u.useState("lg"),a=o()(n,2),r=a[0],i=a[1];return u.useEffect((function(){var e=function(){window.innerWidth>=t.lg?i("lg"):window.innerWidth>=t.md?i("md"):window.innerWidth>=t.sm?i("sm"):window.innerWidth>=t.xs&&i("xs")};return e(),p.V6.on("resize",e),function(){return p.V6.off("resize",e)}}),[t.lg,t.md,t.sm,t.xs]),r},w=function(e,t,n){return function(a){var r=n&&("xs"===t||"sm"===t),i=r?3*I[t]:b[t],o=1===e?"".concat(r?2*I[t]:I[t],"px"):2===e?"".concat(i,"px"):void 0;return{position:"relative",borderRight:e<2?"".concat(3,"px solid ").concat(a.baseColor.background.light):void 0,backgroundColor:a.baseColor.background.light,zIndex:3-e,marginLeft:o}}},_=function(e){var t,n=e.catalogItem,a=e.width,r=e.height,i=e.isMobile,o=null==n?void 0:n.entity,l=u.createElement(g.x,{height:"".concat(r,"px"),width:"".concat(a,"px"),background:"#292929"},u.createElement(g.x,{borderRadius:"50%",width:"100%",height:"100%",background:"#757575"}));return o&&("BookEdition"===o.__typename?l=u.createElement(d.F,{bookEdition:o,width:a,height:r,strategy:v._S.Crop}):"Post"===o.__typename&&null!==(t=o.previewImage)&&void 0!==t&&t.id&&(l=u.createElement(m.UV,{miroId:o.previewImage.id,alt:o.previewImage.alt||"",width:a,height:r,aspectRatio:i?m.Pr.FourToThree:void 0,strategy:v._S.Crop,loading:"lazy"}))),u.createElement(g.x,{height:"".concat(r,"px")},l)},S=function(e){var t=e.catalogItems,n=e.isEmbeded,a=void 0!==n&&n,r=e.coverWidth,i=e.coverHeight,o=e.breakpoints,l=(0,f.I)(),c=x(o),s=t.filter((function(e){var t,n=e.entity;return!("Post"!==(null==n?void 0:n.__typename)||null===(t=n.previewImage)||void 0===t||!t.id)||!("BookEdition"!==(null==n?void 0:n.__typename)||!n.cover)})),d=[s[0],s[1],s[2]],m="sm"===c||"xs"===c,p=function(e,t){return 3*t+I[e]+b[e]+6}(c,r);return u.createElement(g.x,{display:"flex",overflow:"hidden",justifyContent:m?a?"space-between":"flex-start":"flex-end",width:m?"100%":"".concat(p,"px"),borderRadius:m?"0 0 3px 3px":"0 3px 3px 0",position:"relative",flexShrink:"0"},d.map((function(e,t){return u.createElement("div",{key:(null==e?void 0:e.catalogItemId)||t,className:l(w(t,c,a))},u.createElement(_,{isMobile:m,catalogItem:e,height:i,width:r}))})))},k=(0,s.Ps)(h(),d.l)},16330:(e,t,n)=>{"use strict";n.d(t,{lb:()=>z,ci:()=>R,aX:()=>T});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(59749),c=n(53976),s=n(82318),u=n(42933),d=n(55099),m=n(80908),g=n(98024),f=n(95760),p=n(51512),v=n(6688),h=n(19551),E=n(14391),C=n(67297),I=n(99171),b=n(66137),y=n(27952),x=n(61598),w=n(19661);function _(){var e=r()(["\n  fragment CatalogsListItem_user on User {\n    ...userUrl_user\n  }\n  ","\n"]);return _=function(){return e},e}function S(){var e=r()(["\n  fragment CatalogsListItem_catalog on Catalog {\n    id\n    name\n    predefined\n    visibility\n    ...catalogUrl_catalog\n    ...formatItemsCount_catalog\n    listItemsConnection: itemsConnection(pagingOptions: {limit: 10}) {\n      items {\n        catalogItemId\n        ...CatalogCovers_catalogItemV2\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return S=function(){return e},e}var k={xs:100,sm:140,md:90,lg:166},O={xs:105,sm:105,md:166,lg:166},P=function(e){return{marginBottom:"1px","& path":{fill:e.baseColor.text.lighter}}},z=function(e){var t=e.catalog,n=t.name,a=t.visibility,r=t.listItemsConnection,i=t.id,x=t.predefined,_=(0,c.VB)({name:"enable_lite_book_experience",placeholder:!1}),S=(0,l.SZ)(t,_),z=a!==E.n2.PUBLIC,R=x?(0,b.S6)(x):n,T=(0,C.v9)((function(e){return e.config.authDomain})),L=(0,f.Av)(),j=(0,p.pK)(),D=(0,w.CI)(),F=(0,h.g)({onPresentedFn:function(){L.event("list.presented",{listId:t.id,source:j})}}),M=(0,v.I)(),B=O[D],A=k[D],V="sm"===D||"xs"===D;return o.createElement(s.r,{href:(0,y.ykG)(t,T)},o.createElement(u.x,{ref:F,border:"BASE_LIGHTER",borderRadius:"4px",marginBottom:"40px",maxWidth:V?"100%":"740px",width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"BASE_LIGHT",flexDirection:V?"column":"row"},o.createElement(u.x,{key:i,display:"flex",flexDirection:"column",padding:"24px",justifyContent:"space-between",wordBreak:"break-word"},o.createElement(m.Dx,{clamp:2,scale:V?"XS":"S"},R),o.createElement(u.x,{display:"flex",alignItems:"center"},o.createElement(u.x,{display:V?"none":"block",flexShrink:"0",marginRight:"12px"},o.createElement(d.z,{size:"SMALL",buttonStyle:"SUBTLE",href:(0,y.ykG)(t,T)},"View list")),(z||S)&&o.createElement(u.x,{display:"flex",marginTop:V?"6px":void 0},S&&o.createElement(g.F,{scale:"S",color:"LIGHTER"},S),z&&o.createElement(u.x,{paddingLeft:"8px"},o.createElement(I.Z,{className:M(P)}))))),o.createElement(w.Y_,{coverHeight:B,coverWidth:A,catalogItems:r.items})))},R=(0,i.Ps)(S(),w.u1,y.UiF,l.BR),T=(0,i.Ps)(_(),x.$)},16084:(e,t,n)=>{"use strict";n.d(t,{W:()=>u,WU:()=>d,dT:()=>m,u7:()=>g,dw:()=>f,Dk:()=>p});var a=n(28655),r=n.n(a),i=n(71439),o=n(21552),l=n(14391),c=n(7728);function s(){var e=r()(["\n  query GetCatalogsByUser(\n    $userId: ID!\n    $pagingOptions: CatalogPagingOptionsInput!\n    $type: CatalogType!\n    $withCatalogDetails: Boolean!\n  ) {\n    readingList: getPredefinedCatalog(userId: $userId, type: READING_LIST) {\n      __typename\n      ...CatalogAddToList_catalog @skip(if: $withCatalogDetails)\n      ...YourCatalogsScreen_catalog @include(if: $withCatalogDetails)\n    }\n    catalogsByUser(userId: $userId, pagingOptions: $pagingOptions, type: $type) {\n      __typename\n      catalogs {\n        ...CatalogAddToList_catalog @skip(if: $withCatalogDetails)\n        ...YourCatalogsScreen_catalog @include(if: $withCatalogDetails)\n      }\n\n      paging {\n        __typename\n        nextPageCursor {\n          id\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}var u=50,d=20,m=20,g=10,f=function(e){var t=e.limit,n=e.withCatalogDetails,a=void 0!==n&&n;return{userId:e.userId,pagingOptions:{limit:t},type:l.HQ.LISTS,withCatalogDetails:a}},p=(0,i.Ps)(s(),o.E,c.G)},80122:(e,t,n)=>{"use strict";n.d(t,{a:()=>I});var a=n(63038),r=n.n(a),i=n(67294),o=n(77339),l=n(94411),c=n(57768),s=n(50223),u=n(42933),d=n(48573),m=n(82318),g=n(71229),f=n(80908),p=n(98024),v=n(14391),h=n(85277),E=n(67297),C=n(27952);function I(e){var t=e.isVisible,n=e.hide,a=e.target,I=e.kind,b=e.viewer,y=i.useState(""),x=r()(y,2),w=x[0],_=x[1],S=i.useState(!1),k=r()(S,2),O=k[0],P=k[1],z=i.useState(""),R=r()(z,2),T=R[0],L=R[1],j=i.useState(!1),D=r()(j,2),F=D[0],M=D[1],B=(0,E.v9)((function(e){return e.config.authDomain})),A=(0,l.Ax)(b.id),V=A.createCatalog,$=A.loading,W=A.data,N=A.error,U=(0,c.T2)(),H=(0,h.w)();i.useEffect((function(){if("Catalog"===(null==W?void 0:W.createCatalog.__typename))if(I&&a){var e=W.createCatalog,t=e.id,n=e.version;U({userId:b.id,catalogId:t,version:n,kind:I,itemId:a.id}),X()}else window.location.assign((0,C.ykG)(W.createCatalog,B))}),[null==W?void 0:W.createCatalog,I,null==a?void 0:a.id,U,b.id]),i.useEffect((function(){N&&H({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}),[N]);var G=i.useCallback((function(e){_(e.target.value)}),[_]),Y=i.useCallback((function(e){L(e.target.value)}),[L]),X=i.useCallback((function(){_(""),L(""),P(!1),M(!1),n()}),[n]),Q=i.useCallback((function(){var e=w.trim();e.length>0&&V({attributes:{title:e,description:T.trim(),type:v.HQ.LISTS,visibility:F?v.n2.PRIVATE:v.n2.PUBLIC}})}),[w,T,F,V]);return i.createElement(s.v,{isVisible:t,hide:X,confirmText:i.createElement(o.I,{loading:$,text:"Create"}),isDestructiveAction:!1,onConfirm:Q,disableConfirm:!w.trim()||$,hideOnConfirm:!1},i.createElement(u.x,{height:"400px"},i.createElement(u.x,{paddingBottom:"60px"},i.createElement(f.Dx,{scale:"L"},"Create new list")),i.createElement(u.x,{textAlign:"left",width:"400px",sm:{width:"100%"}},i.createElement(u.x,{paddingBottom:"20px"},i.createElement(d.n,{value:w,onChange:G,placeholder:"Give it a name"})),i.createElement(u.x,{paddingBottom:"20px"},O?i.createElement(u.x,{maxHeight:"170px",overflow:"hidden"},i.createElement(d.n,{value:T,onChange:Y,placeholder:"Description",isMultiline:!0,autoFocus:!0})):i.createElement(m.r,{onClick:function(){return P(!0)}},i.createElement(p.F,{scale:"L",color:"ACCENT"},"Add a description"))),i.createElement(u.x,null,i.createElement(g.X,{checked:F,onChange:function(){return M(!F)},textScale:"L"},"Make it private")))))}},59749:(e,t,n)=>{"use strict";n.d(t,{fg:()=>f,mH:()=>p,SZ:()=>v,bN:()=>h,BR:()=>E,hz:()=>C});var a=n(28655),r=n.n(a),i=n(71439),o=n(23450),l=n.n(o),c=n(23025),s=n(36511),u=n(31001);function d(){var e=r()(["\n  fragment CatalogVotersDialog_catalogClapperConnection on CatalogClapperConnection {\n    clappers {\n      __typename\n      user {\n        __typename\n        id\n        ...Voter_user\n        ...UserFollowButton_user\n      }\n      clapCount\n    }\n    paging {\n      nextPageCursor {\n        id\n      }\n    }\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}function m(){var e=r()(["\n  fragment formatItemsCount_catalog on Catalog {\n    postItemsCount\n    bookEditionItemsCount\n  }\n"]);return m=function(){return e},e}function g(){var e=r()(["\n  fragment getMiroImageForMetadata_catalog on Catalog {\n    catalogItemsConnection: itemsConnection(pagingOptions: {limit: 10}) {\n      items {\n        catalogItemId\n        entity {\n          __typename\n          ... on BookEdition {\n            id\n            cover\n          }\n          ... on Post {\n            previewImage {\n              id\n              alt\n              originalWidth\n              originalHeight\n              focusPercentX\n              focusPercentY\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return g=function(){return e},e}var f=function(e){return(0,s.r)().viewerId===e},p=function(e,t,n){var a,r=null===(a=e.catalogItemsConnection)||void 0===a?void 0:a.items.find((function(e){var t,a=e.entity;return"Post"===(null==a?void 0:a.__typename)&&(null===(t=a.previewImage)||void 0===t?void 0:t.id)||n&&"BookEdition"===(null==a?void 0:a.__typename)&&a.cover}));if(r){var i,o=r.entity;if(n&&"BookEdition"===(null==o?void 0:o.__typename)&&o.cover)return{miroId:o.cover,originalWidth:t,originalHeight:t,focusPercentX:10,focusPercentY:10};if("Post"===(null==o?void 0:o.__typename)&&null!==(i=o.previewImage)&&void 0!==i&&i.id){var l=o.previewImage;return{miroId:l.id,originalWidth:l.originalWidth,originalHeight:l.originalHeight,focusPercentX:l.focusPercentX,focusPercentY:l.focusPercentY}}}return null},v=function(e,t){var n=e.bookEditionItemsCount,a=e.postItemsCount,r=a>0?"".concat(e.postItemsCount," ").concat(l()("story",a)):"",i=n>0&&t?"".concat(e.bookEditionItemsCount," ").concat(l()("book",n)):"";return r&&i?"".concat(r,", ").concat(i):r||i},h=(0,i.Ps)(g()),E=(0,i.Ps)(m()),C=(0,i.Ps)(d(),c.J,u.sj)},46282:(e,t,n)=>{"use strict";n.d(t,{UV:()=>h,S_:()=>C,Wt:()=>I,uA:()=>b,p9:()=>y});var a=n(319),r=n.n(a),i=n(63038),o=n.n(i),l=n(59713),c=n.n(l),s=n(28655),u=n.n(s),d=n(71439),m=n(86531),g=n(14391);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){var e=u()(["\n      fragment updateCatalogVersionInCache_catalog on Catalog {\n        version\n      }\n    "]);return v=function(){return e},e}function h(e,t,n){e.writeFragment({id:"Catalog:".concat(t),fragment:(0,d.Ps)(v()),data:{version:n}})}function E(e,t){var n,a=(n={},c()(n,g.ej.BOOK_EDITION,"bookEditionItemsCount"),c()(n,g.ej.POST,"postItemsCount"),n);if(a[e])return c()({},a[e],(function(e){return e+t}))}function C(e,t,n,a){e.modify({id:"Catalog:".concat(t),fields:p(p({},E(a,-1)),{},{itemsConnection:function(e){if(null==e||!e.items)return e;var t=e.items.filter((function(e){return!n.some((function(t){return n={catalogItemId:t},e.__ref==="CatalogItemV2:".concat(JSON.stringify(n));var n}))}));return p(p({},e),{},{items:t})}})})}function I(e,t){e.modify({id:e.identify((0,d.kQ)("ROOT_QUERY")),fields:{catalogsByUser:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=n.DELETE,r={},i=(0,m.b)({userId:t}),l=0,c=Object.entries(e);l<c.length;l++){var s=o()(c[l],2),u=s[0],d=s[1];r[u]=u.startsWith(i)?a:d}return r}}})}function b(e,t){e.modify({id:e.identify({__typename:"Catalog",id:t}),fields:{itemsConnection:function(e,t){return t.DELETE}}})}function y(e,t,n,a){e.modify({id:e.identify((0,d.kQ)("ROOT_QUERY")),fields:{catalogsByUser:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,l=i.readField,c=i.DELETE,s={},u=(0,m.b)({userId:t,type:n}),d=0,g=Object.entries(e);d<g.length;d++){var f=o()(g[d],2),v=f[0],h=f[1];if(v.startsWith(u)){var E=r()(h.catalogs),C=E.findIndex((function(e){return l("id",e)===a}));if(-1===C)s[v]=c;else{var I=E.splice(C,1),b=o()(I,1),y=b[0];E.unshift(y),s[v]=p(p({},h),{},{catalogs:E})}}else s[v]=h}return s}}})}},57768:(e,t,n)=>{"use strict";n.d(t,{PH:()=>w,xt:()=>_,T_:()=>k,ST:()=>O,T2:()=>P,qY:()=>z,jN:()=>R,oj:()=>L});var a=n(59713),r=n.n(a),i=n(63038),o=n.n(i),l=n(28655),c=n.n(l),s=n(50361),u=n.n(s),d=n(71439),m=n(46829),g=n(67294),f=n(46282),p=n(95760),v=n(14391),h=n(6304),E=n(94945);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){var e=c()(["\n  fragment editCatalogItemsMutation_postViewerEdge on PostViewerEdge {\n    id\n    catalogsConnection {\n      catalogsContainingThis(type: LISTS) {\n        catalogId\n        version\n        catalogItemIds\n      }\n      predefinedContainingThis {\n        catalogId\n        predefined\n        version\n        catalogItemIds\n      }\n    }\n  }\n"]);return b=function(){return e},e}function y(){var e=c()(["\n  fragment editCatalogItemsMutation_bookEditionViewerEdge on BookEditionViewerEdge {\n    id\n    catalogsConnection {\n      catalogsContainingThis(type: LISTS) {\n        catalogId\n        version\n        catalogItemIds\n      }\n      predefinedContainingThis {\n        catalogId\n        predefined\n        version\n        catalogItemIds\n      }\n    }\n  }\n"]);return y=function(){return e},e}function x(){var e=c()(["\n  mutation EditCatalogItems(\n    $catalogId: String!\n    $version: String!\n    $operations: [CatalogItemMutateOperationInput!]!\n  ) {\n    editCatalogItems(catalogId: $catalogId, version: $version, operations: $operations) {\n      __typename\n      ... on EditCatalogItemsSuccess {\n        version\n        operations {\n          __typename\n          preprend {\n            __typename\n            catalogItemId\n          }\n          append {\n            __typename\n            catalogItemId\n          }\n          move\n        }\n      }\n    }\n  }\n"]);return x=function(){return e},e}var w="temp-cat-item-id",_="temp-cat-version",S=(0,d.Ps)(x()),k=(0,d.Ps)(y()),O=(0,d.Ps)(b());function P(){var e=(0,m.useMutation)(S),t=o()(e,1)[0];return(0,g.useCallback)((function(e){t({variables:{catalogId:e.catalogId,version:e.version,operations:[{preprend:{type:e.kind,id:e.itemId}}]},update:function(t,n){T({viewerId:e.userId,cache:t,result:n,catalogId:e.catalogId,itemId:e.itemId,kind:e.kind,operation:"preprend",predefined:e.predefined}),(0,f.p9)(t,e.userId,v.HQ.LISTS,e.catalogId)}})}),[t])}function z(e,t,n,a,r,i){var o=(0,p.Av)();return(0,m.useMutation)(S,{variables:{catalogId:t,version:n,operations:[{preprend:{type:r,id:a}}]},update:function(n,o){T({viewerId:e,cache:n,result:o,catalogId:t,itemId:a,kind:r,operation:"preprend",predefined:i}),i||(0,f.p9)(n,e,v.HQ.LISTS,t)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:[{__typename:"EditCatalogItemMutationOperationResponse",preprend:{__typename:"CatalogItemV2",catalogItemId:w},append:null,move:null}],version:_}},onCompleted:function(e){"EditCatalogItemsSuccess"===e.editCatalogItems.__typename&&o.event("post.addToList",{listId:t,postId:a})}})}var R=function(e,t,n,a,r,i,o,l){var c=(0,p.Av)();return(0,m.useMutation)(S,{variables:{catalogId:t,version:n,operations:i.map((function(e){return{delete:{itemId:e}}}))},update:function(n,l){T({viewerId:e,cache:n,result:l,catalogId:t,itemId:a,kind:r,operation:"delete",predefined:o,deletedCatalogItemIds:i}),(0,f.S_)(n,t,i,r),o||(0,f.p9)(n,e,v.HQ.LISTS,t)},optimisticResponse:{editCatalogItems:{__typename:"EditCatalogItemsSuccess",operations:i.map((function(e){return{__typename:"EditCatalogItemMutationOperationResponse",append:null,preprend:null,move:null}})),version:_}},onCompleted:function(e){"EditCatalogItemsSuccess"===e.editCatalogItems.__typename&&(l&&l(),c.event("post.removeFromList",{listId:t,postId:a}))}})};function T(e){var t,n=e.cache,a=e.result,i=e.catalogId,o=e.viewerId,l=e.itemId,c=e.kind,s=e.operation,d=e.predefined,m=e.deletedCatalogItemIds,g=null===(t=a.data)||void 0===t?void 0:t.editCatalogItems;if("EditCatalogItemsSuccess"===(null==g?void 0:g.__typename)){var p,C,b;if((0,f.UV)(n,i,g.version),c===v.ej.BOOK_EDITION)p=(0,h.j)(l,o),C="BookEditionViewerEdge",b=k;else{if(c!==v.ej.POST)return;p=(0,E.Q)(l,o),C="PostViewerEdge",b=O}var y="".concat(C,":").concat(p),x=n.readFragment({id:y,fragment:b});if(null!=x&&x.catalogsConnection){var w=g.operations,_=g.version,S=w[0];if(!S||"move"===s)return;var P=u()(d?x.catalogsConnection.predefinedContainingThis:x.catalogsConnection.catalogsContainingThis),z=P.findIndex((function(e){return d?e.predefined===d:e.catalogId===i}));if("append"===s||"preprend"===s){var R=S[s];if(-1!==z)P[z].catalogItemIds.push(R.catalogItemId);else{var T={catalogId:i,version:_,catalogItemIds:[R.catalogItemId]};d&&(T.predefined=d),P.push(T)}}else if("delete"===s&&-1!==z&&m){var L=P[z].catalogItemIds;P[z].catalogItemIds=L.filter((function(e){return!m.includes(e)})),0===P[z].catalogItemIds.length&&P.splice(z,1)}n.writeFragment({id:y,fragment:b,data:I(I({},x),{},{catalogsConnection:I(I({},null==x?void 0:x.catalogsConnection),{},r()({},d?"predefinedContainingThis":"catalogsContainingThis",P))})})}}}function L(e,t,n,a){return(0,m.useMutation)(S,{variables:{catalogId:e,version:t,operations:n},update:function(t){(0,f.uA)(t,e)},onCompleted:a})}},94411:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>k,ok:()=>O,h6:()=>z,o:()=>R,p5:()=>L,es:()=>D});var a=n(59713),r=n.n(a),i=n(63038),o=n.n(i),l=n(28655),c=n.n(l),s=n(71439),u=n(46829),d=n(16084),m=n(59749),g=n(46282),f=n(95760),p=n(85277),v=n(66137),h=n(27952);function E(){var e=c()(["\n  mutation FlagCatalog($catalogId: String!) {\n    flagCatalog(catalogId: $catalogId)\n  }\n"]);return E=function(){return e},e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){var e=c()(["\n  mutation ClapCatalog(\n    $catalogId: String!\n    $numClaps: Int!\n    $clappersPagingOptions: CatalogPagingOptionsInput!\n  ) {\n    clapCatalog(catalogId: $catalogId, numClaps: $numClaps) {\n      __typename\n      ... on Catalog {\n        id\n        clapCount\n        clappersCount\n        viewerEdge {\n          __typename\n          id\n          clapCount\n          clappers(pagingOptions: $clappersPagingOptions) {\n            ...CatalogVotersDialog_catalogClapperConnection\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function y(){var e=c()(["\n  mutation EditCatalogItemAnnotation(\n    $catalogId: String!\n    $catalogItemId: String!\n    $annotation: CatalogItemAnnotationInput\n  ) {\n    editCatalogItemAnnotation(\n      catalogId: $catalogId\n      catalogItemId: $catalogItemId\n      annotation: $annotation\n    ) {\n      __typename\n      ... on CatalogItemV2 {\n        catalogId\n        catalogItemId\n        userAnnotation {\n          annotation\n        }\n        entity {\n          __typename\n          ... on Post {\n            id\n          }\n          ... on BookEdition {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return y=function(){return e},e}function x(){var e=c()(["\n  mutation DeleteCatalog($catalogId: String!) {\n    deleteCatalog(catalogId: $catalogId) {\n      __typename\n      ... on MutationSuccess {\n        success\n      }\n    }\n  }\n"]);return x=function(){return e},e}function w(){var e=c()(["\n  mutation UpdateCatalog($catalogId: String!, $attributes: UpdateCatalogInput!) {\n    updateCatalog(catalogId: $catalogId, attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        description\n      }\n    }\n  }\n"]);return w=function(){return e},e}function _(){var e=c()(["\n  mutation CreateCatalog($attributes: CreateCatalogInput!) {\n    createCatalog(attributes: $attributes) {\n      __typename\n      ... on Catalog {\n        id\n        name\n        visibility\n        version\n        creator {\n          id\n        }\n        ...catalogUrl_catalog\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}var S=(0,s.Ps)(_(),h.UiF);function k(e){var t=(0,f.Av)(),n=(0,u.useMutation)(S,{update:function(t){(0,g.Wt)(t,e)},onCompleted:function(e){var n=e.createCatalog;"Catalog"===n.__typename&&t.event("list.new",{listId:n.id,listName:n.name,userId:n.creator.id,listPrivacyLevel:v.eF[n.visibility]})}}),a=o()(n,2),r=a[0],i=a[1];return{createCatalog:function(e){return r({variables:e})},loading:i.loading,data:i.data,error:i.error}}var O=(0,s.Ps)(w()),P=(0,s.Ps)(x());function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onCompleted;return(0,u.useMutation)(P,{onCompleted:n,update:function(t){(0,g.Wt)(t,e)}})}var R=(0,s.Ps)(y()),T=(0,s.Ps)(b(),m.hz);function L(){var e=(0,u.useMutation)(T),t=o()(e,2),n=t[0],a=t[1];return{clapCatalog:function(e){return n({variables:I(I({},e),{},{clappersPagingOptions:{limit:d.u7}})})},loading:a.loading,data:a.data,error:a.error}}var j=(0,s.Ps)(E());function D(){var e=(0,p.w)(),t=(0,u.useMutation)(j,{onCompleted:function(){e({message:"Successfully reported list."})},onError:function(){e({message:"",toastStyle:"RETRYABLE_ERROR",duration:4e3})}}),n=o()(t,1)[0];return{flagCatalog:function(e){return n({variables:e})}}}},23025:(e,t,n)=>{"use strict";n.d(t,{a:()=>S,J:()=>k});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(79296),c=n(18579);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u=o.createElement("g",{fillRule:"evenodd"},o.createElement("path",{d:"M7.94 1h-.89L7.5 2.9zM10.09 1.33l-.84-.3-.23 1.95zM5.73 1.04l-.84.3L5.97 3zM5.63 11.57a3043.52 3043.52 0 0 0-1.6-1.6C2.32 8.26 1.25 7.5 1.75 7c.25-.25.62-.3.93 0 .45.46 1.54 1.65 1.54 1.65a.69.69 0 0 0 .34.2c.17.04.36-.06.5-.2.14-.13.06-.47-.06-.6L2.94 5.98c-.29-.29-.39-.78-.08-1.09.3-.29.64-.14.9.12l2.1 2.15a.33.33 0 0 0 .24.1.42.42 0 0 0 .26-.12c.13-.12.2-.36.07-.49L5 5.2c-.56-.56-.6-.95-.36-1.2.35-.35.82-.24 1.45.48l2.8 2.95-.59-1.46s-.37-.97 0-1.17c.37-.2.74.33 1 .72l1.37 2.62a3.29 3.29 0 0 1-.57 4.05c-1.22 1.22-3.18.69-4.48-.6z"}),o.createElement("path",{d:"M11.37 4.73c-.26-.4-.7-.4-.98-.19-.19.15-.16.48-.15.7l1.18 2.07c.91 1.49 1.23 2.7.19 4.1.31-.14.4-.27.58-.49.65-.8 1.05-2.47.39-3.88a3.35 3.35 0 0 0-.03-.05l-1.18-2.26z"}));const d=function(e){return o.createElement("svg",s({width:15,height:15},e),u)};var m=function(e){return{position:"relative",bottom:"12px",borderRadius:"10px",color:e.backgroundColor,fill:e.backgroundColor,background:e.accentColor.fill.normal,textAlign:"center"}},g={left:"20px",padding:"0 6px"},f={left:"24px",padding:"0 2px"},p=function(e){var t=e.clapCount,n=(0,c.n)({name:"detail",color:"DARKER",scale:"S"}),a=t?[n,m,g]:[m,f];return o.createElement(l.h,null,(function(e){return o.createElement("span",{className:e(a)},t?"+".concat(t):o.createElement(d,null))}))},v=n(98281),h=n(16831),E=n(42933),C=n(82318),I=n(37278),b=n(98024),y=n(67297),x=n(27952),w=n(61598);function _(){var e=r()(["\n  fragment Voter_user on User {\n    id\n    username\n    bio\n    name\n    ...userUrl_user\n    ...UserAvatar_user\n  }\n  ","\n  ","\n"]);return _=function(){return e},e}var S=function(e){var t=e.user,n=e.clapCount,a=e.followButton,r=(0,y.v9)((function(e){return e.config.authDomain})),i=t.username,l=t.name,c=t.bio,s=void 0===c?"":c;return l&&i?o.createElement(E.x,{padding:"12px 0"},o.createElement(E.x,{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},o.createElement(E.x,{display:"flex",alignItems:"flex-start"},o.createElement(E.x,{marginRight:"20px"},o.createElement(v.Yt,{user:t,scale:"S"}),o.createElement(p,{clapCount:n})),o.createElement(E.x,{display:"flex",flexDirection:"column",alignItems:"flex-start"},o.createElement(C.r,{href:(0,x.AWr)(t,r)},o.createElement(I.X6,{scale:"XS"},l," ")),o.createElement(b.F,{scale:"S"},s))),o.createElement(E.x,{marginLeft:"48px"},a))):null},k=(0,i.Ps)(_(),h.W,w.$)},96210:(e,t,n)=>{"use strict";n.d(t,{w:()=>r,f:()=>i});var a=n(67294),r=a.createContext({isWorkingPreview:!1}),i=function(){return a.useContext(r)}},25752:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var a=n(67294).createContext({isFetching:!1})},67900:(e,t,n)=>{"use strict";n.d(t,{P:()=>E});var a=n(34575),r=n.n(a),i=n(93913),o=n.n(i),l=n(81506),c=n.n(l),s=n(2205),u=n.n(s),d=n(78585),m=n.n(d),g=n(29754),f=n.n(g),p=n(67294),v=n(25752),h=n(27108);var E=function(e){u()(i,e);var t,n,a=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=f()(t);if(n){var r=f()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return m()(this,e)});function i(e){var t;return r()(this,i),(t=a.call(this,e)).bottomEdgeEl=void 0,t.scrollableDomMonitor=void 0,t.maybeFetch=void 0,t.state={isFetching:!1},t.maybeFetch=t._maybeFetch.bind(c()(t)),t.scrollableDomMonitor=(0,h.jC)(t.props.scrollableEl||void 0),t}return o()(i,[{key:"componentDidMount",value:function(){this.attachScrollListener(),this._maybeFetch()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener()}},{key:"_maybeFetch",value:function(){var e=this;if(this.bottomEdgeEl&&!this.state.isFetching){var t=this.props.fetchMore;if(t){var n=this.scrollableDomMonitor.ref,a=n.clientHeight,r=n.innerHeight,i=a||r;this.bottomEdgeEl.getBoundingClientRect().top-i<3*i&&(this.setState({isFetching:!0}),t().then((function(){e.setState({isFetching:!1}),e._maybeFetch()})))}}}},{key:"attachScrollListener",value:function(){this.scrollableDomMonitor.on("scroll",this.maybeFetch),this.scrollableDomMonitor.on("resize",this.maybeFetch)}},{key:"detachScrollListener",value:function(){this.scrollableDomMonitor.off("scroll",this.maybeFetch),this.scrollableDomMonitor.off("resize",this.maybeFetch)}},{key:"render",value:function(){var e=this,t=this.props.children;return p.createElement(v.z.Provider,{value:{isFetching:this.state.isFetching}},p.createElement("div",null,t,p.createElement("div",{ref:function(t){e.bottomEdgeEl=t}})))}}]),i}(p.Component)},68421:(e,t,n)=>{"use strict";n.d(t,{$S:()=>a,JN:()=>w,oP:()=>S});var a,r=n(67154),i=n.n(r),o=n(63038),l=n.n(o),c=n(6479),s=n.n(c),u=n(28655),d=n.n(u),m=n(71439),g=n(46829),f=n(67294),p=n(96210),v=n(76532),h=n(42933),E=n(82318),C=n(80362),I=n(98024),b=n(24438),y=n(95760);function x(){var e=d()(["\n  mutation DismissFlagMutation($userId: ID!, $flag: UserDismissableFlags!) {\n    userDismissFlag(userId: $userId, flag: $flag) {\n      id\n      dismissableFlags\n    }\n  }\n"]);return x=function(){return e},e}!function(e){e.CTA="CTA",e.DISMISSED="DISMISSED"}(a||(a={}));var w=(0,m.Ps)(x()),_=function(e){var t=e.children,n=e.flag,r=e.text,o=e.renderFn,c=e.viewer,u=e.padding,d=void 0===u?20:u,m=e.darkTheme,p=e.placement,v=s()(e,["children","flag","text","renderFn","viewer","padding","darkTheme","placement"]),x=(0,y.Av)(),_=f.useState(!1),S=l()(_,2),k=S[0],O=S[1],P=(0,g.useMutation)(w,{variables:{userId:c.id,flag:n}}),z=l()(P,1)[0],R=f.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.DISMISSED;O(!1),z(),x.event("user.dismissedPopover",{flag:n,action:e})}),[k]);f.useEffect((function(){return O(!0)}),[]);var T=f.useCallback((function(){return f.createElement(h.x,{minWidth:"200px",padding:(0,b.a)(d)},f.createElement(I.F,{scale:"S"},r),f.createElement(h.x,{marginTop:"20px"},f.createElement(I.F,{scale:"S"},f.createElement(E.r,{linkStyle:"OBVIOUS",onClick:function(){return R(a.DISMISSED)}},"Got it"))))}),[R,d,r]);return f.createElement(C.J,i()({disablePortalOverlay:!0,hide:R,isVisible:k,popoverRenderFn:o?o(R):T,darkTheme:m,placement:p},v),t)},S=function(e){var t=e.children,n=e.flag,a=e.isVisible,r=void 0===a||a,o=s()(e,["children","flag","isVisible"]),l=(0,p.f)().isWorkingPreview,c=(0,v.H)().value;return l||null!=c&&c.dismissableFlags.includes(n)||!c||!r?t:f.createElement(_,i()({flag:n,viewer:c},o),t)}},42560:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var a=n(67294),r=n(82318),i=n(29637),o=n(98024),l=n(6688),c=n(87598),s=function(e){var t=e.items,n=(0,l.I)(),s=(0,c.G)();return a.createElement("div",{className:n(i.wf)},a.createElement("ul",{className:n(i._I)},t.map((function(e,t){var l=e.title,c=e.href,u=s(c);return a.createElement("li",{className:n((0,i.LE)(u)),key:t},a.createElement(o.F,{scale:"M",color:u?"DARKER":"LIGHTER"},a.createElement(r.r,{href:c},l)))}))))}},29637:(e,t,n)=>{"use strict";n.d(t,{wf:()=>s,_I:()=>u,LE:()=>d,LU:()=>m});var a=n(10429),r=n(67294),i=n(82318),o=n(98024),l=n(6688),c=n(87598),s=function(e){return{borderBottom:"1px solid ".concat(e.baseColor.border.lighter)}},u={listStyleType:"none",margin:0,whiteSpace:"nowrap",overflowX:"auto",marginBottom:"-1px"},d=function(e){return function(t){return{display:"inline-block",lineHeight:"40px",marginRight:"20px",paddingBottom:"8px",borderBottom:e?"1px solid ".concat(t.baseColor.border.dark):"none",outline:"none"}}},m=function(e){var t=e.items,n=(0,l.I)(),m=(0,c.G)();return r.createElement(a.mQ,{className:n(s)},r.createElement(a.td,{as:"ul",className:n(u)},t.map((function(e,t){var l=e.title,c=e.href,s=m(c);return r.createElement(a.OK,{as:"li",className:n(d(s)),key:t},r.createElement(o.F,{scale:"M",color:s?"DARKER":"LIGHTER"},r.createElement(i.r,{href:c},l)))}))))}},48573:(e,t,n)=>{"use strict";n.d(t,{n:()=>T});var a=n(67154),r=n.n(a),i=n(63038),o=n.n(i),l=n(6479),c=n.n(l),s=n(67294),u=n(42933),d=n(98024),m=n(18579),g=n(6688);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var p=s.createElement("path",{fill:"#CC5454",d:"M13.3 13.9l.14-7.08h-1.78l.15 7.08h1.48zm-.74 1.43c-.68 0-1.13.44-1.13 1.12 0 .67.45 1.12 1.13 1.12.68 0 1.13-.45 1.13-1.12 0-.68-.44-1.12-1.12-1.12"}),v=s.createElement("path",{fill:"#CC5454",d:"M12.5 21a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17zm0 1a9.5 9.5 0 1 1 0-19 9.5 9.5 0 0 1 0 19z"});const h=function(e){return s.createElement("svg",f({width:25,height:25,viewBox:"0 0 25 25"},e),p,v)};var E=function(e){return{padding:"4px 0",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",lineHeight:"inherit",textAlign:"inherit",borderWidth:0,outline:0,"::placeholder":{color:e.baseColor.text.lighter,opacity:.5}}},C={border:0,flex:1,overflow:"hidden",resize:"none",width:"100%"},I={color:"inherit",background:"inherit",fontStyle:"inherit"},b=function(e){var t=[E,C];return e?[].concat(t,[I]):t},y=function(e){if(e.current){e.current.rows=1;var t=e.current.scrollHeight/parseInt(getComputedStyle(e.current).lineHeight);e.current.rows=t}},x=s.forwardRef((function(e,t){var n=e.value,a=e.ariaLabel,r=e.autoFocus,i=e.onChange,o=e.placeholder,l=e.inheritCustomStyleSheet,c=function(e,t){var n=s.useRef(null);return s.useEffect((function(){[e,t].forEach((function(e){e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e,t]),n}(s.useRef(null),t),u=s.useCallback((function(e){i&&i(e),y(c)}),[i,c]);s.useEffect((function(){return y(c)}),[n]);var d=(0,g.I)();return s.createElement("textarea",{"aria-label":a,autoFocus:r,className:d(b(l)),placeholder:o,onChange:u,ref:c,rows:1,value:n})})),w=function(e){var t=e.count,n=void 0===t?0:t,a=e.limit,r=(0,g.I)();return s.createElement(d.F,{scale:"S"},s.createElement("span",{className:r((function(e){return{color:n>a?e.errorColor:e.baseColor.text.dark}}))},n),"/",a)},_={flex:"1"},S=function(e){var t=e.value,n=e.ariaLabel,a=e.autoFocus,r=e.isPassword,i=e.onChange,o=e.placeholder,l=e.name,c=(0,g.I)();return s.createElement("input",{"aria-label":n,className:c([[E,_]]),type:r?"password":"text",placeholder:o,value:t,name:l,onChange:i,autoFocus:a})},k=function(e){return{borderWidth:"0px 0px 1px 0px",background:"linear-gradient(to right, ".concat(e.baseColor.text.normal,", 90%, white 100%)"),"-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",color:"transparent",whiteSpace:"nowrap",overflow:"hidden",width:"100%"}},O=function(e){var t=e.value,n=(0,g.I)();return s.createElement("p",{key:t,className:n([E,k])},t)},P=function(e){return{fontWeight:e.newFonts.detail.boldWeight}},z=function(e){var t=e.hasError,n=e.isFocused,a=e.theme;return t&&n||t?a.errorColor:n?a.baseColor.border.dark:a.baseColor.border.light},R=function(e){var t=e.hasError,n=e.isFocused,a=e.omitBorder;return function(e){return{display:"flex",width:"100%",borderStyle:"solid",borderWidth:a&&!t?0:"0px 0px 1px 0px",borderColor:z({hasError:t,isFocused:n,theme:e})}}},T=function(e){var t,n=e.characterCountLimit,a=e.description,i=e.errorMessage,l=e.isEditable,f=void 0===l||l,p=e.isMultiline,v=void 0!==p&&p,E=e.label,C=e.omitBorder,I=e.onFocus,b=e.isPassword,y=void 0!==b&&b,_=e.scale,k=void 0===_?"M":_,z=e.hideErrorIcon,T=void 0!==z&&z,L=e.bold,j=void 0!==L&&L,D=e.inheritCustomStyleSheet,F=void 0!==D&&D,M=e.forwardedRef,B=c()(e,["characterCountLimit","description","errorMessage","isEditable","isMultiline","label","omitBorder","onFocus","isPassword","scale","hideErrorIcon","bold","inheritCustomStyleSheet","forwardedRef"]),A=B.autoFocus,V=B.onBlur,$=!!i,W=(0,g.I)(),N=s.useState(!!A),U=o()(N,2),H=U[0],G=U[1],Y=s.useCallback((function(e){I&&I(e),G(!0)}),[I,G]),X=s.useCallback((function(e){V&&V(e),G(!1)}),[V,G]),Q=(0,m.n)({name:"detail",scale:"S",color:"ERROR"}),K=(0,m.n)({name:"detail",scale:k,color:"DARKER"});return s.createElement("span",{className:W(j?[K,P]:K)},s.createElement(u.x,{display:"flex",flexDirection:"column",width:"100%"},E&&s.createElement("label",{className:W({marginBottom:"10px"})},E),s.createElement("div",{onFocus:Y,onBlur:X,className:W(R({hasError:$,isFocused:H,omitBorder:C}))},v?s.createElement(x,r()({},B,{inheritCustomStyleSheet:F,ref:M})):f?s.createElement(S,r()({},B,{isPassword:y})):s.createElement(O,B),$&&!T&&s.createElement("span",{style:{paddingLeft:"10px"}},s.createElement(h,null))),s.createElement(u.x,{marginTop:"4px",display:"flex",justifyContent:"space-between"},$?s.createElement("h4",{className:W([Q,{width:"100%",textAlign:"inherit"}])},i):s.createElement(d.F,{scale:"S"},a),!!n&&s.createElement(w,{count:null===(t=B.value)||void 0===t?void 0:t.length,limit:n}))))}},7728:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H,G:()=>G});var a=n(28655),r=n.n(a),i=n(71439),o=n(67294),l=n(70405),c=n(63038),s=n.n(c),u=n(46829),d=n(68421),m=n(42933),g=n(55099),f=n(3149),p=n(37278),v=n(6688),h=n(14391);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var C=o.createElement("circle",{opacity:.15,cx:141.5,cy:87.5,r:141.5,fill:"#E8F3E8"}),I=o.createElement("circle",{cx:141.5,cy:87.5,r:29.5,fill:"#fff"}),b=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.71 74.32a.66.66 0 0 1 1.31.07v3.28h3.28a.66.66 0 1 1 0 1.3h-3.28v3.29a.66.66 0 1 1-1.3 0v-3.28h-3.29a.66.66 0 0 1 0-1.31h3.28v-3.28-.07zm-13.77 4c-.72 0-1.3.59-1.3 1.31v17.68l7.46-5.74a.66.66 0 0 1 .8 0l7.47 5.74V87.5a.66.66 0 1 1 1.3 0v11.14a.66.66 0 0 1-1.05.52l-8.12-6.24-8.12 6.24a.65.65 0 0 1-1.06-.52v-19a2.62 2.62 0 0 1 2.62-2.63h5.25a.66.66 0 0 1 0 1.31h-5.25z",fill:"#0F730C"});const y=function(e){return o.createElement("svg",E({width:283,height:174,viewBox:"0 0 283 174",fill:"none"},e),C,I,b)};function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var w=o.createElement("circle",{opacity:.15,cx:67.5,cy:67.5,r:67.5,fill:"#E8F3E8"}),_=o.createElement("circle",{cx:68,cy:68,r:20,fill:"#fff"}),S=o.createElement("mask",{id:"bookmark-cta-mobile_svg__a",fill:"#fff"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73.05 58.67a.46.46 0 0 1 .93 0V61h2.32a.46.46 0 1 1 0 .93h-2.32v2.32a.46.46 0 0 1-.93 0v-2.32h-2.32a.46.46 0 1 1 0-.93h2.32v-2.32zm-9.74 2.78a.93.93 0 0 0-.93.93V74.9l5.29-4.06c.16-.13.4-.13.56 0l5.29 4.06v-6.94a.46.46 0 0 1 .92 0v7.89a.46.46 0 0 1-.74.36l-5.75-4.42-5.75 4.42a.46.46 0 0 1-.75-.36V62.38c0-1.02.84-1.85 1.86-1.85h3.71a.46.46 0 1 1 0 .92h-3.71z"})),k=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73.05 58.67a.46.46 0 0 1 .93 0V61h2.32a.46.46 0 1 1 0 .93h-2.32v2.32a.46.46 0 0 1-.93 0v-2.32h-2.32a.46.46 0 1 1 0-.93h2.32v-2.32zm-9.74 2.78a.93.93 0 0 0-.93.93V74.9l5.29-4.06c.16-.13.4-.13.56 0l5.29 4.06v-6.94a.46.46 0 0 1 .92 0v7.89a.46.46 0 0 1-.74.36l-5.75-4.42-5.75 4.42a.46.46 0 0 1-.75-.36V62.38c0-1.02.84-1.85 1.86-1.85h3.71a.46.46 0 1 1 0 .92h-3.71z",fill:"#0F730C"}),O=o.createElement("path",{d:"M73.98 60.99h-1v1h1v-1zm0 .93v-1h-1v1h1zm-.93 0h1v-1h-1v1zm0-.93v1h1v-1h-1zm-10.67 13.9h-1v2.04L63 75.69l-.6-.8zm5.29-4.06l.6.8-.6-.8zm.56 0l-.6.8.6-.8zm5.29 4.06l-.61.8 1.6 1.24v-2.04h-1zm.67 1.36l-.45-.9.45.9zm-.5-.05l.62-.79-.61.8zm-5.74-4.42l.6-.79-.6-.47-.61.47.61.8zM62.2 76.2l-.6-.79.6.8zm-.49.05l.45-.9-.45.9zm11.8-19.04c-.8 0-1.46.65-1.46 1.46h2c0 .3-.24.54-.53.54v-2zm1.47 1.46c0-.8-.65-1.46-1.46-1.46v2a.54.54 0 0 1-.54-.54h2zm0 2.32v-2.32h-2V61h2zm-1 1h2.32v-2h-2.32v2zm2.32 0a.54.54 0 0 1-.54-.54h2c0-.8-.65-1.46-1.46-1.46v2zm-.54-.54c0-.3.24-.53.54-.53v2c.8 0 1.46-.66 1.46-1.47h-2zm.54-.53h-2.32v2h2.32v-2zm-1.32 3.32v-2.32h-2v2.32h2zm-1.46 1.46c.8 0 1.46-.65 1.46-1.46h-2c0-.3.24-.54.54-.54v2zm-1.47-1.46c0 .8.66 1.46 1.47 1.46v-2c.3 0 .53.24.53.54h-2zm0-2.32v2.32h2v-2.32h-2zm1-1h-2.32v2h2.32v-2zm-2.32 0c.3 0 .54.24.54.53h-2c0 .81.65 1.47 1.46 1.47v-2zm.54.53c0 .3-.24.54-.54.54v-2c-.8 0-1.46.66-1.46 1.46h2zm-.54.54h2.32v-2h-2.32v2zm1.32-3.32V61h2v-2.32h-2zm-8.67 3.71c0 .04-.03.07-.07.07v-2c-1.06 0-1.93.87-1.93 1.93h2zm0 12.51V62.4h-2v12.5h2zm3.68-4.85l-5.29 4.06L63 75.7l5.29-4.07-1.22-1.58zm1.78 0c-.52-.4-1.26-.4-1.78 0l1.22 1.58a.54.54 0 0 1-.66 0l1.22-1.58zm5.29 4.06l-5.29-4.06-1.22 1.58 5.29 4.07 1.22-1.59zm-1.61-6.15v6.94h2v-6.94h-2zm1.46-1.46c-.8 0-1.46.65-1.46 1.46h2c0 .3-.24.54-.54.54v-2zm1.46 1.46c0-.8-.65-1.46-1.46-1.46v2a.54.54 0 0 1-.54-.54h2zm0 7.89v-7.89h-2v7.89h2zm-.81 1.31c.5-.25.81-.76.81-1.31h-2c0-.2.12-.4.3-.48l.89 1.79zM73.09 77c.44.34 1.04.4 1.54.15l-.89-1.8c.19-.08.4-.06.57.06L73.09 77zm-5.75-4.42L73.09 77l1.22-1.59L68.56 71l-1.22 1.59zM62.81 77l5.75-4.42-1.22-1.59-5.75 4.42L62.81 77zm-1.54.15c.5.25 1.1.19 1.54-.15L61.6 75.4a.54.54 0 0 1 .57-.05l-.89 1.79zm-.82-1.31c0 .55.32 1.06.82 1.31l.89-1.8c.18.1.3.28.3.49h-2zm0-13.46v13.46h2V62.38h-2zm2.86-2.85a2.86 2.86 0 0 0-2.86 2.85h2c0-.47.39-.85.86-.85v-2zm3.71 0h-3.71v2h3.71v-2zm1.47 1.46c0-.8-.66-1.46-1.47-1.46v2a.54.54 0 0 1-.53-.54h2zm-1.47 1.46c.81 0 1.47-.65 1.47-1.46h-2c0-.3.24-.54.53-.54v2zm-3.71 0h3.71v-2h-3.71v2z",fill:"#0F730C",mask:"url(#bookmark-cta-mobile_svg__a)"});const P=function(e){return o.createElement("svg",x({width:112,height:112,viewBox:"0 0 112 112",fill:"none"},e),w,_,S,k,O)};var z=n(51299),R={color:"#ffffff",fontWeight:700},T=h.T3.CREATE_CATALOGS_CTA,L=function(e){var t=e.onClick,n=e.viewer,a=!(null==n||!n.dismissableFlags.includes(T)),r=o.useState(!a),i=s()(r,2),l=i[0],c=i[1],h=(0,u.useMutation)(d.JN,{variables:{userId:n.id,flag:T}}),E=s()(h,1)[0],C=(0,v.I)(),I=(0,z.U)(),b=o.useCallback((function(){c(!l),E()}),[E,l]);if(a||!l)return null;var x="xs"===I||"sm"===I;return o.createElement(m.x,{borderRadius:"4px",marginBottom:"22px",backgroundColor:"ACCENT_NORMAL",display:"flex",justifyContent:"space-between"},o.createElement(m.x,{padding:{xs:"24px",sm:"24px",md:"24px",lg:"32px",xl:"32px"},display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},o.createElement(m.x,{marginBottom:"16px"},o.createElement(p.X6,{scale:{xs:"XS",sm:"S",md:"S",lg:"M",xl:"M"}},o.createElement("span",{className:C(R)},"Create a list to easily organize and share stories"))),o.createElement(g.z,{size:x?"SMALL":"REGULAR",buttonStyle:"BRAND",onClick:t},"Start a list")),o.createElement(m.x,{display:"flex",xs:{flexDirection:"column-reverse",alignItems:"flex-end"},sm:{flexDirection:"column-reverse",alignItems:"flex-end"},justifyContent:"space-between"},o.createElement(m.x,null,x?o.createElement(P,null):o.createElement(y,null)),o.createElement(m.x,{padding:"18px",xs:{padding:"10px"}},o.createElement(f.P,{onClick:b,isPositionAbsolute:!1,iconFillColor:"#ffffff"}))))},j=n(16330),D=n(80122),F=n(26463),M=n(76532),B=n(67900),A=n(75209),V=n(19464),$=n(42560),W=n(51512),N=n(27952);function U(){var e=r()(["\n  fragment YourCatalogsScreen_catalog on Catalog {\n    id\n    ...CatalogsListItem_catalog\n  }\n  ","\n"]);return U=function(){return e},e}var H=function(e){var t=e.catalogs,n=e.fetchMore,a=(0,M.H)(),r=a.value,i=a.loading,c=(0,v.I)(),s=(0,z.U)();return i||!r?null:o.createElement(W.cW,{source:{name:"my_lists"}},o.createElement(l.q,null,o.createElement("title",null,"Your lists"),o.createElement("meta",{name:"title",content:"Your lists"})),o.createElement(m.x,{paddingBottom:"50px",backgroundColor:"BACKGROUND"},o.createElement(F.kw,null),o.createElement(A.P,{size:"outset"},o.createElement(m.x,{maxWidth:"740px"},o.createElement(m.x,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",marginTop:"-20px",xs:{marginTop:"20px"},sm:{marginTop:"20px"}},o.createElement(p.X6,{scale:{xs:"M",sm:"M",md:"M",lg:"L",xl:"L"},tag:"h1"},o.createElement("span",{className:c({fontWeight:700})},"Your lists")),o.createElement(m.x,null,o.createElement(V.B,null,(function(e){var t=e.hide,n=e.isVisible,a=e.show;return o.createElement(o.Fragment,null,o.createElement(g.z,{size:"xs"===s?"REGULAR":"LARGE",buttonStyle:"STRONG",onClick:a},"New list"),o.createElement(D.a,{isVisible:n,hide:t,viewer:r}))})))),o.createElement($.s,{items:[{title:"Saved",href:(0,N.be7)()},{title:"Highlights",href:(0,N.S0c)()},{title:"Recently viewed",href:(0,N.hGr)()}]}),o.createElement(m.x,{marginTop:"32px",xs:{display:"flex",flexDirection:"column",alignItems:"center"}},o.createElement(V.B,null,(function(e){var t=e.hide,n=e.isVisible,a=e.show;return o.createElement(o.Fragment,null,o.createElement(L,{onClick:a,viewer:r}),o.createElement(D.a,{isVisible:n,hide:t,viewer:r}))})),o.createElement(B.P,{fetchMore:n},t.map((function(e,t){return o.createElement(W.cW,{key:e.id,extendSource:!0,source:{index:t,catalogId:e.id}},o.createElement(j.lb,{catalog:e}))}))))))))},G=(0,i.Ps)(U(),j.ci)},6304:(e,t,n)=>{"use strict";function a(e,t){return"bookEditionId:".concat(e,"-viewerId:").concat(t)}n.d(t,{j:()=>a})},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var a=n(63038),r=n.n(a),i=n(67294),o=n(77180),l=n(27108),c=function(){var e=(0,o.F)(),t=i.useState("lg"),n=r()(t,2),a=n[0],c=n[1],s=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return i.useEffect((function(){return s(),l.V6.on("resize",s),function(){return l.V6.off("resize",s)}}),[]),a}},87598:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var a=n(5977),r=n(67297),i=n(96879),o=function(){var e=(0,a.TH)(),t=(0,r.v9)((function(e){return e.navigation.hostname}));return function(n){return(0,i.z9)(n,t,e)}}},94945:(e,t,n)=>{"use strict";function a(e,t){return"postId:".concat(e,"-viewerId:").concat(t)}n.d(t,{Q:()=>a})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/192.267fdb68.chunk.js.map